<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Comparison Tool - ...s/fix_MODIS_mask_full_orbit.m vs. /Users/...s/Fix_MODIS_Mask_New.m</title><style type="text/css">

pre {

  display:inline-block;

}

.diffnomatch {

  background: #e5d5e8;

     display: inline-block;

}

.right {

  background: #dbf2fc;

     display: inline-block;

}

.left {

  background: #f3e9d1;

     display: inline-block;

}

.diffsoft {

    color: #888;

}

.diffskip {

       color: #888;

  background: #e0e0e0;

     display: inline-block;

}

.bold {

  font-weight:bold;

}

.merged {

  background-color: #eaeaea;

           display: inline-block;

}

</style><body><div id="allContent"><table cellpadding="0" cellspacing="0" border="0"><tbody><tr>
<td></td><td><a id="leftFileLink" class="bold">fix_MODIS_mask_full_orbit.m</a></td>
<td><a id="rightFileLink" class="bold">Fix_MODIS_Mask_New.m</a></td>
</tr>
<tr>
<td></td><td>/Users/petercornillon/Dropbox/ComputerPrograms/MATLAB/Projects/MODIS_L2/Functions/Build_Fixed_Orbital_Files_Functions/fix_MODIS_mask_full_orbit.m</td><td>/Users/petercornillon/Dropbox/ComputerPrograms/MATLAB/Projects/MODIS_L2/Primary_Functions/Fix_MODIS_Mask_New.m</td>
</tr>
<tr>
<td></td><td>Wed Mar 23 17:32:52 EDT 2022</td><td>Sun Mar 13 18:58:49 EDT 2022</td>
</tr>
<tr>
<td><pre>    </pre></td>
<td><pre>                                                                                </pre></td>
<td><pre>                                                                                </pre></td>
</tr></tbody></table>
<div>31 differences found.  Use the toolstrip buttons to navigate to them.</div><div id="diffstart">
<br><pre><div id="ignorediv"><a id="ignorelink"></a></div>
<div id="diff0"><span class="diffLine" data-left-line="1" data-right-line="1"><a>  1</a> <span class="diffnomatch">function<span style="background: #be96c6;">     </span>[Final_Mask, Test_Counts, <span style="background: #be96c6;">FracArea</span>, <span style="background: #be96c6;">nnReduced</span>] = <span style="background: #be96c6;">fix_MODIS_full_orb</span> x function<span style="background: #be96c6;"> </span>[<span style="background: #be96c6;">Figno, </span>Final_Mask, Test_Counts, <span style="background: #be96c6;">length_FracArea</span>, <span style="background: #be96c6;">length_nnReduced, Tot</span></span> <span><a>  1</a></span></span>
</div><span class="nodiff" data-left-line="2" data-right-line="2"><a>  2</a> % function [Figno Final_Mask, Test_Counts, length_FracArea, length_nnReduced, To . % function [Figno Final_Mask, Test_Counts, length_FracArea, length_nnReduced, To <span><a>  2</a></span></span>
<span class="nodiff" data-left-line="3" data-right-line="3"><a>  3</a> % Fix_MODIS_Mask - unflag pixels improperly flagged as bad because of a local hi . % Fix_MODIS_Mask - unflag pixels improperly flagged as bad because of a local hi <span><a>  3</a></span></span>
<span class="nodiff" data-left-line="4" data-right-line="4"><a>  4</a> %                                                                                . %                                                                                <span><a>  4</a></span></span>
                                                                      <span class="diffskip">[220 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="225" data-right-line="225"><a>225</a>     Counts = [Inf Inf];                                                          .     Counts = [Inf Inf];                                                          <span><a>225</a></span></span>
<span class="nodiff" data-left-line="226" data-right-line="226"><a>226</a> end                                                                              . end                                                                              <span><a>226</a></span></span>
<span class="nodiff" data-left-line="227" data-right-line="227"><a>227</a>                                                                                  .                                                                                  <span><a>227</a></span></span>
<div id="diff1"><span class="diffLine" data-left-line="228" data-right-line="228"><a>228</a> <span class="diffnomatch">%<span style="background: #be96c6;"> </span>% <span style="background: #be96c6;">%% </span>Get the year, month, day and hour of this file.                           x %% Get the year, month, day and hour of this file.                              </span> <span><a>228</a></span></span>
<span class="diffLine" data-left-line="229" data-right-line="229"><a>229</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>229</a></span></span>
<span class="diffLine" data-left-line="230" data-right-line="230"><a>230</a> <span class="diffnomatch">% <span style="background: #be96c6;">% % </span>file_in = '~/Dropbox/ComputerPrograms/Satellite_Model_SST_Processing/AI-SS x % file_in = '~/Dropbox/ComputerPrograms/Satellite_Model_SST_Processing/AI-SST/Da</span> <span><a>230</a></span></span>
<span class="diffLine" data-left-line="231" data-right-line="231"><a>231</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>231</a></span></span>
<span class="diffLine" data-left-line="232" data-right-line="232"><a>232</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>nn = strfind(file_in, 'AQUA_MODIS.2');                                       x nn = strfind(file_in, 'AQUA_MODIS.2');                                          </span> <span><a>232</a></span></span>
<span class="diffLine" data-left-line="233" data-right-line="233"><a>233</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>if isempty(nn)                                                               x if isempty(nn)                                                                  </span> <span><a>233</a></span></span>
<span class="diffLine" data-left-line="234" data-right-line="234"><a>234</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>keyboard                                                                 x <span style="background: #be96c6;">    </span>keyboard                                                                    </span> <span><a>234</a></span></span>
<span class="diffLine" data-left-line="235" data-right-line="235"><a>235</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>end                                                                          x end                                                                             </span> <span><a>235</a></span></span>
<span class="diffLine" data-left-line="236" data-right-line="236"><a>236</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>236</a></span></span>
<span class="diffLine" data-left-line="237" data-right-line="237"><a>237</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>nn = nn+ 11;                                                                 x nn = nn+ 11;                                                                    </span> <span><a>237</a></span></span>
<span class="diffLine" data-left-line="238" data-right-line="238"><a>238</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Year = str2num(file_in(nn:nn+3));                                            x Year = str2num(file_in(nn:nn+3));                                               </span> <span><a>238</a></span></span>
<span class="diffLine" data-left-line="239" data-right-line="239"><a>239</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Month = str2num(file_in(nn+4:nn+5));                                         x Month = str2num(file_in(nn+4:nn+5));                                            </span> <span><a>239</a></span></span>
<span class="diffLine" data-left-line="240" data-right-line="240"><a>240</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Day = str2num(file_in(nn+6:nn+7));                                           x Day = str2num(file_in(nn+6:nn+7));                                              </span> <span><a>240</a></span></span>
<span class="diffLine" data-left-line="241" data-right-line="241"><a>241</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Hour = str2num(file_in(nn+9:nn+10));                                         x Hour = str2num(file_in(nn+9:nn+10));                                            </span> <span><a>241</a></span></span>
</div><span class="nodiff" data-left-line="242" data-right-line="242"><a>242</a>                                                                                  .                                                                                  <span><a>242</a></span></span>
<span class="nodiff" data-left-line="243" data-right-line="243"><a>243</a> % Setup directories                                                              . % Setup directories                                                              <span><a>243</a></span></span>
<span class="nodiff" data-left-line="244" data-right-line="244"><a>244</a>                                                                                  .                                                                                  <span><a>244</a></span></span>
<div id="diff2"><span class="diffLine" data-left-line="245" data-right-line="245"><a>245</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>if strcmp(base_dir(1), '~')                                                  x if strcmp(base_dir(1), '~')                                                     </span> <span><a>245</a></span></span>
<span class="diffLine" data-left-line="246" data-right-line="246"><a>246</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>base_dir = ['/Users/petercornillon' base_dir(2:end)];                    x <span style="background: #be96c6;">    </span>base_dir = ['/Users/petercornillon' base_dir(2:end)];                       </span> <span><a>246</a></span></span>
<span class="diffLine" data-left-line="247" data-right-line="247"><a>247</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>new_mask_base_dir = [base_dir 'Final_Mask/'];                            x <span style="background: #be96c6;">    </span>new_mask_base_dir = [base_dir 'Final_Mask/'];                               </span> <span><a>247</a></span></span>
<span class="diffLine" data-left-line="248" data-right-line="248"><a>248</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>else                                                                         x else                                                                            </span> <span><a>248</a></span></span>
</div><span class="nodiff" data-left-line="249" data-right-line="249"><a>249</a> % % %     nn = strfind(base_dir, '/Fronts');                                     . % % %     nn = strfind(base_dir, '/Fronts');                                     <span><a>249</a></span></span>
<span class="nodiff" data-left-line="250" data-right-line="250"><a>250</a> % % %     if isempty(nn); keyboard; end                                          . % % %     if isempty(nn); keyboard; end                                          <span><a>250</a></span></span>
<span class="nodiff" data-left-line="251" data-right-line="251"><a>251</a> % % %     new_mask_base_dir = [base_dir(1:nn) '/New_Masks/MODIS_Aqua/'];         . % % %     new_mask_base_dir = [base_dir(1:nn) '/New_Masks/MODIS_Aqua/'];         <span><a>251</a></span></span>
<div id="diff3"><span class="diffLine" data-left-line="252" data-right-line="252"><a>252</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>                                                                         x <span style="background: #be96c6;">    </span>                                                                            </span> <span><a>252</a></span></span>
<span class="diffLine" data-left-line="253" data-right-line="253"><a>253</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>new_mask_base_dir = [base_dir 'Final_Mask/'];                            x <span style="background: #be96c6;">    </span>new_mask_base_dir = [base_dir 'Final_Mask/'];                               </span> <span><a>253</a></span></span>
<span class="diffLine" data-left-line="254" data-right-line="254"><a>254</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>end                                                                          x end                                                                             </span> <span><a>254</a></span></span>
</div><span class="nodiff" data-left-line="255" data-right-line="255"><a>255</a>                                                                                  .                                                                                  <span><a>255</a></span></span>
<span class="nodiff" data-left-line="256" data-right-line="256"><a>256</a> %% Read Lat,Lon and write the geolocation file.                                  . %% Read Lat,Lon and write the geolocation file.                                  <span><a>256</a></span></span>
<span class="nodiff" data-left-line="257" data-right-line="257"><a>257</a>                                                                                  .                                                                                  <span><a>257</a></span></span>
                                                                       <span class="diffskip">[5 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="263" data-right-line="263"><a>263</a>                                                                                  .                                                                                  <span><a>263</a></span></span>
<span class="nodiff" data-left-line="264" data-right-line="264"><a>264</a> %% Load the SST, flags_sst and Quality fields for the test image                 . %% Load the SST, flags_sst and Quality fields for the test image                 <span><a>264</a></span></span>
<span class="nodiff" data-left-line="265" data-right-line="265"><a>265</a>                                                                                  .                                                                                  <span><a>265</a></span></span>
<div id="diff4" class=""><span class="diffLine" data-left-line="266" data-right-line="266"><a>266</a> <span class="diffnomatch">% <span style="background: #be96c6;">% % </span>Read SST and, if requested, plot.                                          x % Read SST and, if requested, plot.                                             </span> <span><a>266</a></span></span>
<span class="diffLine" data-left-line="267" data-right-line="267"><a>267</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>267</a></span></span>
<span class="diffLine" data-left-line="268" data-right-line="268"><a>268</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>if single_granule                                                            x if single_granule                                                               </span> <span><a>268</a></span></span>
<span class="diffLine" data-left-line="269" data-right-line="269"><a>269</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>SST_In = ncread( file_in, '/geophysical_data/sst', Start, Counts);       x <span style="background: #be96c6;">    </span>SST_In = ncread( file_in, '/geophysical_data/sst', Start, Counts);          </span> <span><a>269</a></span></span>
<span class="diffLine" data-left-line="270" data-right-line="270"><a>270</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>time_coverage_start = ncreadatt(file_in, '/', 'time_coverage_start');    x <span style="background: #be96c6;">    </span>time_coverage_start = ncreadatt(file_in, '/', 'time_coverage_start');       </span> <span><a>270</a></span></span>
<span class="diffLine" data-left-line="271" data-right-line="271"><a>271</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>GlobalAttributes = ncinfo(file_in);                                      x <span style="background: #be96c6;">    </span>GlobalAttributes = ncinfo(file_in);                                         </span> <span><a>271</a></span></span>
<span class="diffLine" data-left-line="272" data-right-line="272"><a>272</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>else                                                                         x else                                                                            </span> <span><a>272</a></span></span>
<span class="diffLine" data-left-line="273" data-right-line="273"><a>273</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>load(file_in)                                                            x <span style="background: #be96c6;">    </span>load(file_in)                                                               </span> <span><a>273</a></span></span>
<span class="diffLine" data-left-line="274" data-right-line="274"><a>274</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>end                                                                          x end                                                                             </span> <span><a>274</a></span></span>
</div><span class="nodiff" data-left-line="275" data-right-line="275"><a>275</a>                                                                                  .                                                                                  <span><a>275</a></span></span>
<span class="nodiff" data-left-line="276" data-right-line="276"><a>276</a> Final_Mask = zeros(size(SST_In));                                                . Final_Mask = zeros(size(SST_In));                                                <span><a>276</a></span></span>
<span class="nodiff" data-left-line="277" data-right-line="277"><a>277</a>                                                                                  .                                                                                  <span><a>277</a></span></span>
<div id="diff5"><span class="diffLine" data-left-line="278" data-right-line="278"><a>278</a> <span class="diffnomatch">% <span style="background: #be96c6;">% % </span>Get the input quality. This is only used to see how good we did.           x % Get the input quality. This is only used to see how good we did.              </span> <span><a>278</a></span></span>
<span class="diffLine" data-left-line="279" data-right-line="279"><a>279</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>279</a></span></span>
<span class="diffLine" data-left-line="280" data-right-line="280"><a>280</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>if single_granule                                                            x if single_granule                                                               </span> <span><a>280</a></span></span>
<span class="diffLine" data-left-line="281" data-right-line="281"><a>281</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>Qual_In = ncread( file_in, '/geophysical_data/qual_sst', Start, Counts); x <span style="background: #be96c6;">    </span>Qual_In = ncread( file_in, '/geophysical_data/qual_sst', Start, Counts);    </span> <span><a>281</a></span></span>
<span class="diffLine" data-left-line="282" data-right-line="282"><a>282</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>end                                                                          x end                                                                             </span> <span><a>282</a></span></span>
</div><span class="nodiff" data-left-line="283" data-right-line="283"><a>283</a> qual_2_or_worse = int8(zeros(size(Qual_In)));                                    . qual_2_or_worse = int8(zeros(size(Qual_In)));                                    <span><a>283</a></span></span>
<span class="nodiff" data-left-line="284" data-right-line="284"><a>284</a> qual_2_or_worse(Qual_In&gt;=2) = 1;                                                 . qual_2_or_worse(Qual_In&gt;=2) = 1;                                                 <span><a>284</a></span></span>
<span class="nodiff" data-left-line="285" data-right-line="285"><a>285</a>                                                                                  .                                                                                  <span><a>285</a></span></span>
<span class="nodiff" data-left-line="286" data-right-line="286"><a>286</a> % Check to see if there is any good data in this granule; if not, write out an e . % Check to see if there is any good data in this granule; if not, write out an e <span><a>286</a></span></span>
<span class="nodiff" data-left-line="287" data-right-line="287"><a>287</a>                                                                                  .                                                                                  <span><a>287</a></span></span>
<span class="nodiff" data-left-line="288" data-right-line="288"><a>288</a> nn = find(SST_In &gt; -2);                                                          . nn = find(SST_In &gt; -2);                                                          <span><a>288</a></span></span>
<span class="nodiff" data-left-line="289" data-right-line="289"><a>289</a> if isempty(nn)                                                                   . if isempty(nn)                                                                   <span><a>289</a></span></span>
<div id="diff6"><span class="diffLine" data-left-line="290" data-right-line="290"><a>290</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>[Status] = Write_Enhanced_MODIS_SST_Mask( file_in, new_mask_base_dir, in x <span style="background: #be96c6;">    </span>[Status] = Write_Enhanced_MODIS_SST_Mask( file_in, new_mask_base_dir, int8(F</span> <span><a>290</a></span></span>
<span class="diffLine" data-left-line="291" data-right-line="291"><a>291</a> <span class="diffnomatch"><span style="background: #be96c6;">% %         </span>Old_Reference_Temperature_Flag, New_Reference_Temperature_Flag, qual x <span style="background: #be96c6;">        </span>Old_Reference_Temperature_Flag, New_Reference_Temperature_Flag, qual_2_o</span> <span><a>291</a></span></span>
<span class="diffLine" data-left-line="292" data-right-line="292"><a>292</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>292</a></span></span>
<span class="diffLine" data-left-line="293" data-right-line="293"><a>293</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>[Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, x <span style="background: #be96c6;">    </span>[Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, 2, </span> <span><a>293</a></span></span>
</div><span class="nodiff" data-left-line="294" data-right-line="294"><a>294</a>     disp(['No good data for ' file_in '. Skipping to the next file.'])           .     disp(['No good data for ' file_in '. Skipping to the next file.'])           <span><a>294</a></span></span>
<div id="diff7"><span class="diffLine" data-left-line="295" data-right-line="295"><a>295</a> <span class="diffnomatch">    <span style="background: #be96c6;">keyboard</span>                                                                     x     <span style="background: #be96c6;">return</span>                                                                      </span> <span><a>295</a></span></span>
</div><span class="nodiff" data-left-line="296" data-right-line="296"><a>296</a> end                                                                              . end                                                                              <span><a>296</a></span></span>
<span class="nodiff" data-left-line="297" data-right-line="297"><a>297</a>                                                                                  .                                                                                  <span><a>297</a></span></span>
<div id="diff8"><span class="diffLine" data-left-line="298" data-right-line="298"><a>298</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>disp(['Working on ' file_in '.'])                                            x disp(['Working on ' file_in '.'])                                               </span> <span><a>298</a></span></span>
</div><span class="nodiff" data-left-line="299" data-right-line="299"><a>299</a>                                                                                  .                                                                                  <span><a>299</a></span></span>
<span class="nodiff" data-left-line="300" data-right-line="300"><a>300</a> sizSST_In = size(SST_In);                                                        . sizSST_In = size(SST_In);                                                        <span><a>300</a></span></span>
<span class="nodiff" data-left-line="301" data-right-line="301"><a>301</a>                                                                                  .                                                                                  <span><a>301</a></span></span>
                                                                       <span class="diffskip">[5 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="307" data-right-line="307"><a>307</a>                                                                                  .                                                                                  <span><a>307</a></span></span>
<span class="nodiff" data-left-line="308" data-right-line="308"><a>308</a> % Plot the field if requested: Plot_SST_In = 1.                                  . % Plot the field if requested: Plot_SST_In = 1.                                  <span><a>308</a></span></span>
<span class="nodiff" data-left-line="309" data-right-line="309"><a>309</a>                                                                                  .                                                                                  <span><a>309</a></span></span>
<div id="diff9"><span class="diffLine" data-left-line="310" data-right-line="310"><a>310</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_SST_In, Figno, inLiveScript, SST_In, 'SST_In');     x Figno = Plot_Masks( Plot_SST_In, Figno, inLiveScript, SST_In, 'SST_In');        </span> <span><a>310</a></span></span>
<span class="diffLine" data-left-line="311" data-right-line="311"><a>311</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>if Plot_SST_In; caxis([-2 32]); end                                          x if Plot_SST_In; caxis([-2 32]); end                                             </span> <span><a>311</a></span></span>
</div><span class="nodiff" data-left-line="312" data-right-line="312"><a>312</a>                                                                                  .                                                                                  <span><a>312</a></span></span>
<div id="diff10"><span class="diffLine" data-left-line="313" data-right-line="313"><a>313</a> <span class="diffnomatch">% <span style="background: #be96c6;">% % </span>Read flags_sst.                                                            x % Read flags_sst.                                                               </span> <span><a>313</a></span></span>
<span class="diffLine" data-left-line="314" data-right-line="314"><a>314</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>314</a></span></span>
<span class="diffLine" data-left-line="315" data-right-line="315"><a>315</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>if single_granule                                                            x if single_granule                                                               </span> <span><a>315</a></span></span>
<span class="diffLine" data-left-line="316" data-right-line="316"><a>316</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>flags_sst = int16(ncread( file_in, '/geophysical_data/flags_sst', Start, x <span style="background: #be96c6;">    </span>flags_sst = int16(ncread( file_in, '/geophysical_data/flags_sst', Start, Cou</span> <span><a>316</a></span></span>
<span class="diffLine" data-left-line="317" data-right-line="317"><a>317</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>end                                                                          x end                                                                             </span> <span><a>317</a></span></span>
<span class="diffLine" data-left-line="318" data-right-line="318"><a>318</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_flags_sst, Figno, inLiveScript, flags_sst, 'flags\_ x Figno = Plot_Masks( Plot_flags_sst, Figno, inLiveScript, flags_sst, 'flags\_sst'</span> <span><a>318</a></span></span>
</div><span class="nodiff" data-left-line="319" data-right-line="319"><a>319</a>                                                                                  .                                                                                  <span><a>319</a></span></span>
<span class="nodiff" data-left-line="320" data-right-line="320"><a>320</a> Time_to_Setup_and_Read = toc(Start_Time);                                        . Time_to_Setup_and_Read = toc(Start_Time);                                        <span><a>320</a></span></span>
<span class="nodiff" data-left-line="321" data-right-line="321"><a>321</a> tic                                                                              . tic                                                                              <span><a>321</a></span></span>
                                                                      <span class="diffskip">[109 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="431" data-right-line="431"><a>431</a>                                                                                  .                                                                                  <span><a>431</a></span></span>
<span class="nodiff" data-left-line="432" data-right-line="432"><a>432</a>         % Get the difference between the reference field and this field.         .         % Get the difference between the reference field and this field.         <span><a>432</a></span></span>
<span class="nodiff" data-left-line="433" data-right-line="433"><a>433</a>                                                                                  .                                                                                  <span><a>433</a></span></span>
<div id="diff11"><span class="diffLine" data-left-line="434" data-right-line="434"><a>434</a> <span class="diffnomatch"><span style="background: #be96c6;">% %         </span>if single_granule                                                    x <span style="background: #be96c6;">        </span>if single_granule                                                       </span> <span><a>434</a></span></span>
<span class="diffLine" data-left-line="435" data-right-line="435"><a>435</a> <span class="diffnomatch"><span style="background: #be96c6;">% %             </span>sstref = ncread(file_in,'/geophysical_data/sstref');             x <span style="background: #be96c6;">            </span>sstref = ncread(file_in,'/geophysical_data/sstref');                </span> <span><a>435</a></span></span>
<span class="diffLine" data-left-line="436" data-right-line="436"><a>436</a> <span class="diffnomatch"><span style="background: #be96c6;">% %         </span>end                                                                  x <span style="background: #be96c6;">        </span>end                                                                     </span> <span><a>436</a></span></span>
</div><span class="nodiff" data-left-line="437" data-right-line="437"><a>437</a>         sstdiff = sstref - SST_In;                                               .         sstdiff = sstref - SST_In;                                               <span><a>437</a></span></span>
<span class="nodiff" data-left-line="438" data-right-line="438"><a>438</a>                                                                                  .                                                                                  <span><a>438</a></span></span>
<span class="nodiff" data-left-line="439" data-right-line="439"><a>439</a>         lon_range_index_vec = floor((180 + longitude(:)) / sst_range_grid_size)  .         lon_range_index_vec = floor((180 + longitude(:)) / sst_range_grid_size)  <span><a>439</a></span></span>
                                                                      <span class="diffskip">[90 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="530" data-right-line="530"><a>530</a>         Mask_Bits_1_3_4_5_6p_9_10_11_16 = Mask_Bits_1_3_4_5_6p_9_10_11_16 + doub .         Mask_Bits_1_3_4_5_6p_9_10_11_16 = Mask_Bits_1_3_4_5_6p_9_10_11_16 + doub <span><a>530</a></span></span>
<span class="nodiff" data-left-line="531" data-right-line="531"><a>531</a>     end                                                                          .     end                                                                          <span><a>531</a></span></span>
<span class="nodiff" data-left-line="532" data-right-line="532"><a>532</a>                                                                                  .                                                                                  <span><a>532</a></span></span>
<div id="diff12"><span class="diffLine" data-left-line="533" data-right-line="533"><a>533</a> <span class="diffnomatch">% <span style="background: #be96c6;">%     % </span>Plot the mask for this bit if requested.                               x <span style="background: #be96c6;">    </span>% Plot the mask for this bit if requested.                                  </span> <span><a>533</a></span></span>
<span class="diffLine" data-left-line="534" data-right-line="534"><a>534</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>                                                                         x <span style="background: #be96c6;">    </span>                                                                            </span> <span><a>534</a></span></span>
<span class="diffLine" data-left-line="535" data-right-line="535"><a>535</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>Figno = Plot_Masks( Plot_Individual_flags_sst, Figno, inLiveScript, doub x <span style="background: #be96c6;">    </span>Figno = Plot_Masks( Plot_Individual_flags_sst, Figno, inLiveScript, double(T</span> <span><a>535</a></span></span>
</div><span class="nodiff" data-left-line="536" data-right-line="536"><a>536</a> end                                                                              . end                                                                              <span><a>536</a></span></span>
<span class="nodiff" data-left-line="537" data-right-line="537"><a>537</a>                                                                                  .                                                                                  <span><a>537</a></span></span>
<span class="nodiff" data-left-line="538" data-right-line="538"><a>538</a> % Now set all masks to either 0 or 1 and plot if requested.                      . % Now set all masks to either 0 or 1 and plot if requested.                      <span><a>538</a></span></span>
<span class="nodiff" data-left-line="539" data-right-line="539"><a>539</a>                                                                                  .                                                                                  <span><a>539</a></span></span>
<span class="nodiff" data-left-line="540" data-right-line="540"><a>540</a> Mask_Bits_1_3_4_5_6p_9_10_11_16(Mask_Bits_1_3_4_5_6p_9_10_11_16&gt;0) = 1;          . Mask_Bits_1_3_4_5_6p_9_10_11_16(Mask_Bits_1_3_4_5_6p_9_10_11_16&gt;0) = 1;          <span><a>540</a></span></span>
<div id="diff13"><span class="diffLine" data-left-line="541" data-right-line="541"><a>541</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Mask_Bits_1_3_4_5_6p_9_10_11_16, Figno, inLiveScrip x Figno = Plot_Masks( Plot_Mask_Bits_1_3_4_5_6p_9_10_11_16, Figno, inLiveScript, M</span> <span><a>541</a></span></span>
</div><span class="nodiff" data-left-line="542" data-right-line="542"><a>542</a>                                                                                  .                                                                                  <span><a>542</a></span></span>
<span class="nodiff" data-left-line="543" data-right-line="543"><a>543</a> No_Fronts_Mask(No_Fronts_Mask&gt;0) = 1;                                            . No_Fronts_Mask(No_Fronts_Mask&gt;0) = 1;                                            <span><a>543</a></span></span>
<div id="diff14"><span class="diffLine" data-left-line="544" data-right-line="544"><a>544</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_No_Fronts_Mask, Figno, inLiveScript, No_Fronts_Mask x Figno = Plot_Masks( Plot_No_Fronts_Mask, Figno, inLiveScript, No_Fronts_Mask, 'B</span> <span><a>544</a></span></span>
</div><span class="nodiff" data-left-line="545" data-right-line="545"><a>545</a>                                                                                  .                                                                                  <span><a>545</a></span></span>
<span class="nodiff" data-left-line="546" data-right-line="546"><a>546</a> Flags_9_Plus_10(Flags_9_Plus_10&gt;0) = 1;                                          . Flags_9_Plus_10(Flags_9_Plus_10&gt;0) = 1;                                          <span><a>546</a></span></span>
<span class="nodiff" data-left-line="547" data-right-line="547"><a>547</a> Flags_9_Plus_10(Flags_9_Plus_10&lt;0) = 0;                                          . Flags_9_Plus_10(Flags_9_Plus_10&lt;0) = 0;                                          <span><a>547</a></span></span>
                                                                      <span class="diffskip">[14 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="562" data-right-line="562"><a>562</a>     Problem_Pixels = Flags_9_Plus_10 - No_Fronts_Mask;                           .     Problem_Pixels = Flags_9_Plus_10 - No_Fronts_Mask;                           <span><a>562</a></span></span>
<span class="nodiff" data-left-line="563" data-right-line="563"><a>563</a> end                                                                              . end                                                                              <span><a>563</a></span></span>
<span class="nodiff" data-left-line="564" data-right-line="564"><a>564</a> Problem_Pixels(Problem_Pixels&lt;0) = 0;                                            . Problem_Pixels(Problem_Pixels&lt;0) = 0;                                            <span><a>564</a></span></span>
<div id="diff15"><span class="diffLine" data-left-line="565" data-right-line="565"><a>565</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Problem_Pixels, Figno, inLiveScript, Problem_Pixels x Figno = Plot_Masks( Plot_Problem_Pixels, Figno, inLiveScript, Problem_Pixels, 'P</span> <span><a>565</a></span></span>
</div><span class="nodiff" data-left-line="566" data-right-line="566"><a>566</a>                                                                                  .                                                                                  <span><a>566</a></span></span>
<span class="nodiff" data-left-line="567" data-right-line="567"><a>567</a> Time_to_Build_Basic_Masks = toc;                                                 . Time_to_Build_Basic_Masks = toc;                                                 <span><a>567</a></span></span>
<span class="nodiff" data-left-line="568" data-right-line="568"><a>568</a> tic                                                                              . tic                                                                              <span><a>568</a></span></span>
                                                                      <span class="diffskip">[42 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="611" data-right-line="611"><a>611</a>     Problem_Pixels_No_Singletons(kk) = 0;                                        .     Problem_Pixels_No_Singletons(kk) = 0;                                        <span><a>611</a></span></span>
<span class="nodiff" data-left-line="612" data-right-line="612"><a>612</a> end                                                                              . end                                                                              <span><a>612</a></span></span>
<span class="nodiff" data-left-line="613" data-right-line="613"><a>613</a>                                                                                  .                                                                                  <span><a>613</a></span></span>
<div id="diff16"><span class="diffLine" data-left-line="614" data-right-line="614"><a>614</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Problem_Pixels_No_Singletons, Figno, inLiveScript,  x Figno = Plot_Masks( Plot_Problem_Pixels_No_Singletons, Figno, inLiveScript, Prob</span> <span><a>614</a></span></span>
</div><span class="nodiff" data-left-line="615" data-right-line="615"><a>615</a>                                                                                  .                                                                                  <span><a>615</a></span></span>
<span class="nodiff" data-left-line="616" data-right-line="616"><a>616</a> % % % Problem_Pixels_Clear_Holes_Filled = bwmorph(Problem_Pixels, 'fill'); TITLE . % % % Problem_Pixels_Clear_Holes_Filled = bwmorph(Problem_Pixels, 'fill'); TITLE <span><a>616</a></span></span>
<span class="nodiff" data-left-line="617" data-right-line="617"><a>617</a> % % % Problem_Pixels_Majority = bwmorph(Problem_Pixels, 'fill'); TITLE_Problem_P . % % % Problem_Pixels_Majority = bwmorph(Problem_Pixels, 'fill'); TITLE_Problem_P <span><a>617</a></span></span>
                                                                       <span class="diffskip">[2 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="620" data-right-line="620"><a>620</a>                                                                                  .                                                                                  <span><a>620</a></span></span>
<span class="nodiff" data-left-line="621" data-right-line="621"><a>621</a> Mask_Inverted = imcomplement(Problem_Pixels_No_Singletons);                      . Mask_Inverted = imcomplement(Problem_Pixels_No_Singletons);                      <span><a>621</a></span></span>
<span class="nodiff" data-left-line="622" data-right-line="622"><a>622</a>                                                                                  .                                                                                  <span><a>622</a></span></span>
<div id="diff17"><span class="diffLine" data-left-line="623" data-right-line="623"><a>623</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Mask_Inverted, Figno, inLiveScript, Mask_Inverted,  x Figno = Plot_Masks( Plot_Mask_Inverted, Figno, inLiveScript, Mask_Inverted, 'Mas</span> <span><a>623</a></span></span>
</div><span class="nodiff" data-left-line="624" data-right-line="624"><a>624</a>                                                                                  .                                                                                  <span><a>624</a></span></span>
<span class="nodiff" data-left-line="625" data-right-line="625"><a>625</a> % Get the properties for all objects (pixel value = 1) in the inverted mask.     . % Get the properties for all objects (pixel value = 1) in the inverted mask.     <span><a>625</a></span></span>
<span class="nodiff" data-left-line="626" data-right-line="626"><a>626</a>                                                                                  .                                                                                  <span><a>626</a></span></span>
                                                                      <span class="diffskip">[15 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="642" data-right-line="642"><a>642</a>     Mask_Inverted_Filled(kk) = 0;                                                .     Mask_Inverted_Filled(kk) = 0;                                                <span><a>642</a></span></span>
<span class="nodiff" data-left-line="643" data-right-line="643"><a>643</a> end                                                                              . end                                                                              <span><a>643</a></span></span>
<span class="nodiff" data-left-line="644" data-right-line="644"><a>644</a>                                                                                  .                                                                                  <span><a>644</a></span></span>
<div id="diff18"><span class="diffLine" data-left-line="645" data-right-line="645"><a>645</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Mask_Inverted_Filled, Figno, inLiveScript, Mask_Inv x Figno = Plot_Masks( Plot_Mask_Inverted_Filled, Figno, inLiveScript, Mask_Inverte</span> <span><a>645</a></span></span>
</div><span class="nodiff" data-left-line="646" data-right-line="646"><a>646</a>                                                                                  .                                                                                  <span><a>646</a></span></span>
<span class="nodiff" data-left-line="647" data-right-line="647"><a>647</a> % Invert this mask 0--&gt; 1--&gt;0. This will be the original mask with objects       . % Invert this mask 0--&gt; 1--&gt;0. This will be the original mask with objects       <span><a>647</a></span></span>
<span class="nodiff" data-left-line="648" data-right-line="648"><a>648</a> % having clear areas &lt; Thresholds.Area flagged as bad.                           . % having clear areas &lt; Thresholds.Area flagged as bad.                           <span><a>648</a></span></span>
<span class="nodiff" data-left-line="649" data-right-line="649"><a>649</a>                                                                                  .                                                                                  <span><a>649</a></span></span>
<span class="nodiff" data-left-line="650" data-right-line="650"><a>650</a> Problem_Pixels_Clear_Holes_Filled = zeros(sizSST_In);                            . Problem_Pixels_Clear_Holes_Filled = zeros(sizSST_In);                            <span><a>650</a></span></span>
<span class="nodiff" data-left-line="651" data-right-line="651"><a>651</a> Problem_Pixels_Clear_Holes_Filled(Mask_Inverted_Filled==0) = 1;                  . Problem_Pixels_Clear_Holes_Filled(Mask_Inverted_Filled==0) = 1;                  <span><a>651</a></span></span>
<span class="nodiff" data-left-line="652" data-right-line="652"><a>652</a>                                                                                  .                                                                                  <span><a>652</a></span></span>
<div id="diff19"><span class="diffLine" data-left-line="653" data-right-line="653"><a>653</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Problem_Pixels_Clear_Holes_Filled, Figno, inLiveScr x Figno = Plot_Masks( Plot_Problem_Pixels_Clear_Holes_Filled, Figno, inLiveScript,</span> <span><a>653</a></span></span>
</div><span class="nodiff" data-left-line="654" data-right-line="654"><a>654</a>                                                                                  .                                                                                  <span><a>654</a></span></span>
<span class="nodiff" data-left-line="655" data-right-line="655"><a>655</a> %% Dilate and erode the modified mask of problem objects:  Problem_Pixels_Clear_ . %% Dilate and erode the modified mask of problem objects:  Problem_Pixels_Clear_ <span><a>655</a></span></span>
<span class="nodiff" data-left-line="656" data-right-line="656"><a>656</a>                                                                                  .                                                                                  <span><a>656</a></span></span>
                                                                      <span class="diffskip">[21 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="678" data-right-line="678"><a>678</a> end                                                                              . end                                                                              <span><a>678</a></span></span>
<span class="nodiff" data-left-line="679" data-right-line="679"><a>679</a>                                                                                  .                                                                                  <span><a>679</a></span></span>
<span class="nodiff" data-left-line="680" data-right-line="680"><a>680</a> if imdilate_flag(19) ~= 0                                                        . if imdilate_flag(19) ~= 0                                                        <span><a>680</a></span></span>
<div id="diff20"><span class="diffLine" data-left-line="681" data-right-line="681"><a>681</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>Figno = Plot_Masks( Plot_Eroded_9x9, Figno, inLiveScript, Eroded_9x9, 'E x <span style="background: #be96c6;">    </span>Figno = Plot_Masks( Plot_Eroded_9x9, Figno, inLiveScript, Eroded_9x9, 'Erode</span> <span><a>681</a></span></span>
<span class="diffLine" data-left-line="682" data-right-line="682"><a>682</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>Figno = Plot_Masks( Plot_Dilated_9x9_15x15, Figno, inLiveScript, Dilated x <span style="background: #be96c6;">    </span>Figno = Plot_Masks( Plot_Dilated_9x9_15x15, Figno, inLiveScript, Dilated_9x9</span> <span><a>682</a></span></span>
</div><span class="nodiff" data-left-line="683" data-right-line="683"><a>683</a>                                                                                  .                                                                                  <span><a>683</a></span></span>
<span class="nodiff" data-left-line="684" data-right-line="684"><a>684</a>     dd_9x9 = Problem_Pixels_Clear_Holes_Filled - double(Dilated_9x9_15x15);      .     dd_9x9 = Problem_Pixels_Clear_Holes_Filled - double(Dilated_9x9_15x15);      <span><a>684</a></span></span>
<span class="nodiff" data-left-line="685" data-right-line="685"><a>685</a>     dd_9x9(dd_9x9&lt;0) = 0;                                                        .     dd_9x9(dd_9x9&lt;0) = 0;                                                        <span><a>685</a></span></span>
<div id="diff21"><span class="diffLine" data-left-line="686" data-right-line="686"><a>686</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>Figno = Plot_Masks( Plot_dd_9x9, Figno, inLiveScript, dd_9x9, 'dd_9x9'); x <span style="background: #be96c6;">    </span>Figno = Plot_Masks( Plot_dd_9x9, Figno, inLiveScript, dd_9x9, 'dd_9x9');    </span> <span><a>686</a></span></span>
</div><span class="nodiff" data-left-line="687" data-right-line="687"><a>687</a> else                                                                             . else                                                                             <span><a>687</a></span></span>
<span class="nodiff" data-left-line="688" data-right-line="688"><a>688</a>     dd_9x9 = Problem_Pixels_Clear_Holes_Filled - double(Temp_Flag);              .     dd_9x9 = Problem_Pixels_Clear_Holes_Filled - double(Temp_Flag);              <span><a>688</a></span></span>
<span class="nodiff" data-left-line="689" data-right-line="689"><a>689</a> end                                                                              . end                                                                              <span><a>689</a></span></span>
<span class="nodiff" data-left-line="690" data-right-line="690"><a>690</a>                                                                                  .                                                                                  <span><a>690</a></span></span>
<div id="diff22"><span class="diffLine" data-left-line="691" data-right-line="691"><a>691</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno_Save = Figno;                                                          x Figno_Save = Figno;                                                             </span> <span><a>691</a></span></span>
</div><span class="nodiff" data-left-line="692" data-right-line="692"><a>692</a>                                                                                  .                                                                                  <span><a>692</a></span></span>
<span class="nodiff" data-left-line="693" data-right-line="693"><a>693</a> % Get All Candidate Objects from Problem_Pixels                                  . % Get All Candidate Objects from Problem_Pixels                                  <span><a>693</a></span></span>
<span class="nodiff" data-left-line="694" data-right-line="694"><a>694</a> %                                                                                . %                                                                                <span><a>694</a></span></span>
                                                                       <span class="diffskip">[7 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="702" data-right-line="702"><a>702</a> CC = bwconncomp(logical(dd_9x9));                                                . CC = bwconncomp(logical(dd_9x9));                                                <span><a>702</a></span></span>
<span class="nodiff" data-left-line="703" data-right-line="703"><a>703</a> Object_Labels = labelmatrix(CC);                                                 . Object_Labels = labelmatrix(CC);                                                 <span><a>703</a></span></span>
<span class="nodiff" data-left-line="704" data-right-line="704"><a>704</a>                                                                                  .                                                                                  <span><a>704</a></span></span>
<div id="diff23"><span class="diffLine" data-left-line="705" data-right-line="705"><a>705</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Object_Labels, Figno, inLiveScript, Object_Labels,  x Figno = Plot_Masks( Plot_Object_Labels, Figno, inLiveScript, Object_Labels, 'Obj</span> <span><a>705</a></span></span>
</div><span class="nodiff" data-left-line="706" data-right-line="706"><a>706</a>                                                                                  .                                                                                  <span><a>706</a></span></span>
<span class="nodiff" data-left-line="707" data-right-line="707"><a>707</a> %% Remove objects based on their area and eccentricity - these are likely clouds . %% Remove objects based on their area and eccentricity - these are likely clouds <span><a>707</a></span></span>
<span class="nodiff" data-left-line="708" data-right-line="708"><a>708</a> % Remember that this is the mask of objects to test to see                       . % Remember that this is the mask of objects to test to see                       <span><a>708</a></span></span>
                                                                      <span class="diffskip">[23 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="732" data-right-line="732"><a>732</a> nnReduced = find(FracArea&lt;Thresholds.FracArea | (Eccentricity&gt;=Thresholds.Eccent . nnReduced = find(FracArea&lt;Thresholds.FracArea | (Eccentricity&gt;=Thresholds.Eccent <span><a>732</a></span></span>
<span class="nodiff" data-left-line="733" data-right-line="733"><a>733</a> length_nnReduced = length(nnReduced);                                            . length_nnReduced = length(nnReduced);                                            <span><a>733</a></span></span>
<span class="nodiff" data-left-line="734" data-right-line="734"><a>734</a>                                                                                  .                                                                                  <span><a>734</a></span></span>
<div id="diff24"><span class="diffLine" data-left-line="735" data-right-line="735"><a>735</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>kk = strfind(file_in, '/');                                                  x kk = strfind(file_in, '/');                                                     </span> <span><a>735</a></span></span>
</div><span class="nodiff" data-left-line="736" data-right-line="736"><a>736</a> if isempty(nnReduced) == 1                                                       . if isempty(nnReduced) == 1                                                       <span><a>736</a></span></span>
<span class="nodiff" data-left-line="737" data-right-line="737"><a>737</a>     disp(['No candidate objects found in: ' file_in(kk(end)+1:end) '. Skipping t .     disp(['No candidate objects found in: ' file_in(kk(end)+1:end) '. Skipping t <span><a>737</a></span></span>
<div id="diff25"><span class="diffLine" data-left-line="738" data-right-line="738"><a>738</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>[Status] = Write_Enhanced_MODIS_SST_Mask( file_in, new_mask_base_dir, in x <span style="background: #be96c6;">    </span>[Status] = Write_Enhanced_MODIS_SST_Mask( file_in, new_mask_base_dir, int8(F</span> <span><a>738</a></span></span>
<span class="diffLine" data-left-line="739" data-right-line="739"><a>739</a> <span class="diffnomatch"><span style="background: #be96c6;">% %         </span>Old_Reference_Temperature_Flag, New_Reference_Temperature_Flag, qual x <span style="background: #be96c6;">        </span>Old_Reference_Temperature_Flag, New_Reference_Temperature_Flag, qual_2_o</span> <span><a>739</a></span></span>
<span class="diffLine" data-left-line="740" data-right-line="740"><a>740</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>740</a></span></span>
<span class="diffLine" data-left-line="741" data-right-line="741"><a>741</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>[Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, x <span style="background: #be96c6;">    </span>[Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, 2, </span> <span><a>741</a></span></span>
</div><span class="nodiff" data-left-line="742" data-right-line="742"><a>742</a>     return                                                                       .     return                                                                       <span><a>742</a></span></span>
<span class="nodiff" data-left-line="743" data-right-line="743"><a>743</a> else                                                                             . else                                                                             <span><a>743</a></span></span>
<span class="nodiff" data-left-line="744" data-right-line="744"><a>744</a>     disp(['Out of a possible ' num2str(length_FracArea) ' objects, ' num2str(len .     disp(['Out of a possible ' num2str(length_FracArea) ' objects, ' num2str(len <span><a>744</a></span></span>
                                                                      <span class="diffskip">[13 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="758" data-right-line="758"><a>758</a> end                                                                              . end                                                                              <span><a>758</a></span></span>
<span class="nodiff" data-left-line="759" data-right-line="759"><a>759</a> Mask_of_Objects = Add_Objects_to_Array( zeros(sizSST_In), NewStruct, Indices);   . Mask_of_Objects = Add_Objects_to_Array( zeros(sizSST_In), NewStruct, Indices);   <span><a>759</a></span></span>
<span class="nodiff" data-left-line="760" data-right-line="760"><a>760</a>                                                                                  .                                                                                  <span><a>760</a></span></span>
<div id="diff26"><span class="diffLine" data-left-line="761" data-right-line="761"><a>761</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Mask_of_Objects, Figno, inLiveScript, Mask_of_Objec x Figno = Plot_Masks( Plot_Mask_of_Objects, Figno, inLiveScript, Mask_of_Objects, </span> <span><a>761</a></span></span>
</div><span class="nodiff" data-left-line="762" data-right-line="762"><a>762</a>                                                                                  .                                                                                  <span><a>762</a></span></span>
<span class="nodiff" data-left-line="763" data-right-line="763"><a>763</a> % Extract vectors from the new structure array to facilitate using in the follow . % Extract vectors from the new structure array to facilitate using in the follow <span><a>763</a></span></span>
<span class="nodiff" data-left-line="764" data-right-line="764"><a>764</a>                                                                                  .                                                                                  <span><a>764</a></span></span>
                                                                      <span class="diffskip">[18 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="783" data-right-line="783"><a>783</a>                                                                                  .                                                                                  <span><a>783</a></span></span>
<span class="nodiff" data-left-line="784" data-right-line="784"><a>784</a> Candidate_Pixels = Mask_of_Objects;                                              . Candidate_Pixels = Mask_of_Objects;                                              <span><a>784</a></span></span>
<span class="nodiff" data-left-line="785" data-right-line="785"><a>785</a> Candidate_Pixels(Candidate_Pixels&gt;0) = 1;                                        . Candidate_Pixels(Candidate_Pixels&gt;0) = 1;                                        <span><a>785</a></span></span>
<div id="diff27"><span class="diffLine" data-left-line="786" data-right-line="786"><a>786</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Candidate_Pixels, Figno, inLiveScript, Candidate_Pi x Figno = Plot_Masks( Plot_Candidate_Pixels, Figno, inLiveScript, Candidate_Pixels</span> <span><a>786</a></span></span>
</div><span class="nodiff" data-left-line="787" data-right-line="787"><a>787</a>                                                                                  .                                                                                  <span><a>787</a></span></span>
<span class="nodiff" data-left-line="788" data-right-line="788"><a>788</a> CC = bwconncomp(logical(Candidate_Pixels));                                      . CC = bwconncomp(logical(Candidate_Pixels));                                      <span><a>788</a></span></span>
<span class="nodiff" data-left-line="789" data-right-line="789"><a>789</a> Object_Labels_After_Pruning = labelmatrix(CC);                                   . Object_Labels_After_Pruning = labelmatrix(CC);                                   <span><a>789</a></span></span>
<span class="nodiff" data-left-line="790" data-right-line="790"><a>790</a>                                                                                  .                                                                                  <span><a>790</a></span></span>
<div id="diff28"><span class="diffLine" data-left-line="791" data-right-line="791"><a>791</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Object_Labels_After_Pruning, Figno, inLiveScript, O x Figno = Plot_Masks( Plot_Object_Labels_After_Pruning, Figno, inLiveScript, Objec</span> <span><a>791</a></span></span>
</div><span class="nodiff" data-left-line="792" data-right-line="792"><a>792</a>                                                                                  .                                                                                  <span><a>792</a></span></span>
<span class="nodiff" data-left-line="793" data-right-line="793"><a>793</a> % The following was an attempt to reduce the number of objects early on as       . % The following was an attempt to reduce the number of objects early on as       <span><a>793</a></span></span>
<span class="nodiff" data-left-line="794" data-right-line="794"><a>794</a> % well possibly finding a good measure to reject some of the problem             . % well possibly finding a good measure to reject some of the problem             <span><a>794</a></span></span>
                                                                      <span class="diffskip">[196 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="991" data-right-line="991"><a>991</a> Final_Mask = Final_Mask - Mask_Pixels_to_Discard;                                . Final_Mask = Final_Mask - Mask_Pixels_to_Discard;                                <span><a>991</a></span></span>
<span class="nodiff" data-left-line="992" data-right-line="992"><a>992</a> Final_Mask(Final_Mask&lt;0) = 0;                                                    . Final_Mask(Final_Mask&lt;0) = 0;                                                    <span><a>992</a></span></span>
<span class="nodiff" data-left-line="993" data-right-line="993"><a>993</a>                                                                                  .                                                                                  <span><a>993</a></span></span>
<div id="diff29"><span class="diffLine" data-left-line="994" data-right-line="994"><a>994</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>Figno = Plot_Masks( Plot_Final_Mask, Figno, inLiveScript, Final_Mask, 'Final x Figno = Plot_Masks( Plot_Final_Mask, Figno, inLiveScript, Final_Mask, 'Final_Mas</span> <span><a>994</a></span></span>
</div><span class="nodiff" data-left-line="995" data-right-line="995"><a>995</a>                                                                                  .                                                                                  <span><a>995</a></span></span>
<span class="nodiff" data-left-line="996" data-right-line="996"><a>996</a> disp(['Processed ' num2str(iObject) ' objects in ' num2str(toc) ' seconds'])     . disp(['Processed ' num2str(iObject) ' objects in ' num2str(toc) ' seconds'])     <span><a>996</a></span></span>
<span class="nodiff" data-left-line="997" data-right-line="997"><a>997</a>                                                                                  .                                                                                  <span><a>997</a></span></span>
<span class="nodiff" data-left-line="998" data-right-line="998"><a>998</a> %     Quality_Final_Debug                                                        . %     Quality_Final_Debug                                                        <span><a>998</a></span></span>
<span class="nodiff" data-left-line="999" data-right-line="999"><a>999</a>                                                                                  .                                                                                  <span><a>999</a></span></span>
<div id="diff30"><span class="diffLine" data-left-line="1000" data-right-line="1000"><a>1000</a> <span class="diffnomatch">% <span style="background: #be96c6;">% % </span>Write the output netCDF files.                                             x % Write the output netCDF files.                                                </span> <span><a>1000</a></span></span>
<span class="diffLine" data-left-line="1001" data-right-line="1001"><a>1001</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>                                                                             x                                                                                 </span> <span><a>1001</a></span></span>
<span class="diffLine" data-left-line="1002" data-right-line="1002"><a>1002</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>[Status] = Write_Enhanced_MODIS_SST_Mask( file_in, new_mask_base_dir, int8(F x [Status] = Write_Enhanced_MODIS_SST_Mask( file_in, new_mask_base_dir, int8(Final</span> <span><a>1002</a></span></span>
<span class="diffLine" data-left-line="1003" data-right-line="1003"><a>1003</a> <span class="diffnomatch"><span style="background: #be96c6;">% %     </span>Old_Reference_Temperature_Flag, New_Reference_Temperature_Flag, qual_2_o x <span style="background: #be96c6;">    </span>Old_Reference_Temperature_Flag, New_Reference_Temperature_Flag, qual_2_or_wo</span> <span><a>1003</a></span></span>
<span class="diffLine" data-left-line="1004" data-right-line="1004"><a>1004</a> <span class="diffnomatch"><span style="background: #be96c6;">% % </span>[Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, 2,  x [Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, 2, time</span> <span><a>1004</a></span></span>
</div><span class="nodiff" data-left-line="1005" data-right-line="1005"><a>1005</a>                                                                                  .                                                                                  <span><a>1005</a></span></span>
<span class="nodiff" data-left-line="1006" data-right-line="1006"><a>1006</a> % How long to process this file.                                                 . % How long to process this file.                                                 <span><a>1006</a></span></span>
<span class="nodiff" data-left-line="1007" data-right-line="1007"><a>1007</a> Total_Elapsed_Time = toc(Start_Time);                                            . Total_Elapsed_Time = toc(Start_Time);                                            <span><a>1007</a></span></span>
                                                                      <span class="diffskip">[12 unmodified lines hidden]</span>
</pre></div></div><div id="bottom"><p>Number of matching lines: 937</p><p>Number of unmatched lines in left file: 82</p>
<p>Number of unmatched lines in right file: 82</p>
</div></body></head>