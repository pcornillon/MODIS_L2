<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Comparison Tool - /Users/...s/Fix_MODIS_Mask_New.m vs. /Users/...cloud/Fix_MODIS_Mask.m</title><style type="text/css">

pre {

  display:inline-block;

}

.diffnomatch {

  background: #e5d5e8;

     display: inline-block;

}

.right {

  background: #dbf2fc;

     display: inline-block;

}

.left {

  background: #f3e9d1;

     display: inline-block;

}

.diffsoft {

    color: #888;

}

.diffskip {

       color: #888;

  background: #e0e0e0;

     display: inline-block;

}

.bold {

  font-weight:bold;

}

.merged {

  background-color: #eaeaea;

           display: inline-block;

}

</style><body><div id="allContent"><table cellpadding="0" cellspacing="0" border="0"><tbody><tr>
<td></td><td><a id="leftFileLink" class="bold">Fix_MODIS_Mask_New.m</a></td>
<td><a id="rightFileLink" class="bold">Fix_MODIS_Mask.m</a></td>
</tr>
<tr>
<td></td><td>/Users/petercornillon/Dropbox/ComputerPrograms/MATLAB/Projects/MODIS_L2/Primary_Functions/Fix_MODIS_Mask_New.m</td><td>/Users/petercornillon/Dropbox/ComputerPrograms/MATLAB/Projects/MODIS_L2/Decloud/Fix_MODIS_Mask.m</td>
</tr>
<tr>
<td></td><td>Sun Mar 13 18:58:49 EDT 2022</td><td>Thu Jul 22 16:32:22 EDT 2021</td>
</tr>
<tr>
<td><pre>    </pre></td>
<td><pre>                                                                                </pre></td>
<td><pre>                                                                                </pre></td>
</tr></tbody></table>
<div>28 differences found.  Use the toolstrip buttons to navigate to them.</div><div id="diffstart">
<br><pre><div id="ignorediv"><a id="ignorelink"></a></div>
<div id="diff0"><span class="diffLine" data-left-line="1" data-right-line="1"><a>  1</a> <span class="diffnomatch">function [Figno, Final_Mask, Test_Counts, length_FracArea, length_nnReduced, Tot x function [Figno, Final_Mask, Test_Counts, length_FracArea, length_nnReduced, Tot</span> <span><a>  1</a></span></span>
<span class="diffLine" data-left-line="2" data-right-line="2"><a>  2</a> <span class="diffnomatch">% function [Figno Final_Mask, Test_Counts, length_FracArea, length_nnReduced, To x % function [Figno Final_Mask, Test_Counts, length_FracArea, length_nnReduced, To</span> <span><a>  2</a></span></span>
</div><span class="nodiff" data-left-line="3" data-right-line="3"><a>  3</a> % Fix_MODIS_Mask - unflag pixels improperly flagged as bad because of a local hi . % Fix_MODIS_Mask - unflag pixels improperly flagged as bad because of a local hi <span><a>  3</a></span></span>
<span class="nodiff" data-left-line="4" data-right-line="4"><a>  4</a> %                                                                                . %                                                                                <span><a>  4</a></span></span>
<span class="nodiff" data-left-line="5" data-right-line="5"><a>  5</a> % This script goes through the steps to clean up problems associated with        . % This script goes through the steps to clean up problems associated with        <span><a>  5</a></span></span>
                                                                      <span class="diffskip">[129 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="135" data-right-line="135"><a>135</a> %    for comparisons with the reference field. This entailed moving the          . %    for comparisons with the reference field. This entailed moving the          <span><a>135</a></span></span>
<span class="nodiff" data-left-line="136" data-right-line="136"><a>136</a> %    call to generate the geolocation file up front.                             . %    call to generate the geolocation file up front.                             <span><a>136</a></span></span>
<span class="nodiff" data-left-line="137" data-right-line="137"><a>137</a>                                                                                  .                                                                                  <span><a>137</a></span></span>
<div id="diff1"><span class="diffLine" data-left-line="138" data-right-line="137"><a>138</a> <span class="diffnew left">tic                                                                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="139" data-right-line="138"><a>139</a> Start_Time = tic;                                                                . Start_Time = tic;                                                                <span><a>138</a></span></span>
<span class="nodiff" data-left-line="140" data-right-line="139"><a>140</a>                                                                                  .                                                                                  <span><a>139</a></span></span>
<span class="nodiff" data-left-line="141" data-right-line="140"><a>141</a> global sst_range sst_range_grid_size                                             . global sst_range sst_range_grid_size                                             <span><a>140</a></span></span>
                                                                       <span class="diffskip">[7 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="149" data-right-line="148"><a>149</a> iSkewness_Dilated_Bad = 0;                                                       . iSkewness_Dilated_Bad = 0;                                                       <span><a>148</a></span></span>
<span class="nodiff" data-left-line="150" data-right-line="149"><a>150</a> iSkewness_Segment_Bad = 0;                                                       . iSkewness_Segment_Bad = 0;                                                       <span><a>149</a></span></span>
<span class="nodiff" data-left-line="151" data-right-line="150"><a>151</a>                                                                                  .                                                                                  <span><a>150</a></span></span>
<div id="diff2"><span class="diffLine" data-left-line="152" data-right-line="150"><a>152</a> <span class="diffnew left">single_granule = 0;                                                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="153" data-right-line="150"><a>153</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="154" data-right-line="151"><a>154</a> % % % Not_Called_from_Debug_Control = 1;                                         . % % % Not_Called_from_Debug_Control = 1;                                         <span><a>151</a></span></span>
<span class="nodiff" data-left-line="155" data-right-line="152"><a>155</a> % % % if Not_Called_from_Debug_Control == 1                                      . % % % if Not_Called_from_Debug_Control == 1                                      <span><a>152</a></span></span>
<span class="nodiff" data-left-line="156" data-right-line="153"><a>156</a> % % %     global Plot_SST_In Plot_flags_sst Plot_Individual_flags_sst            . % % %     global Plot_SST_In Plot_flags_sst Plot_Individual_flags_sst            <span><a>153</a></span></span>
                                                                      <span class="diffskip">[63 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="220" data-right-line="217"><a>220</a> % If a subset of the image to read has not been identified, specify the          . % If a subset of the image to read has not been identified, specify the          <span><a>217</a></span></span>
<span class="nodiff" data-left-line="221" data-right-line="218"><a>221</a> % entire image.                                                                  . % entire image.                                                                  <span><a>218</a></span></span>
<span class="nodiff" data-left-line="222" data-right-line="219"><a>222</a>                                                                                  .                                                                                  <span><a>219</a></span></span>
<div id="diff3"><span class="diffLine" data-left-line="223" data-right-line="220"><a>223</a> <span class="diffnomatch">if exist('Start') == 0 |<span style="background: #be96c6;"> </span>exist('Counts') == 0                                    x if exist('Start') == 0 |<span style="background: #be96c6;">  </span>exist('Counts') == 0                                  </span> <span><a>220</a></span></span>
</div><span class="nodiff" data-left-line="224" data-right-line="221"><a>224</a>     Start = [1 1];                                                               .     Start = [1 1];                                                               <span><a>221</a></span></span>
<span class="nodiff" data-left-line="225" data-right-line="222"><a>225</a>     Counts = [Inf Inf];                                                          .     Counts = [Inf Inf];                                                          <span><a>222</a></span></span>
<span class="nodiff" data-left-line="226" data-right-line="223"><a>226</a> end                                                                              . end                                                                              <span><a>223</a></span></span>
                                                                      <span class="diffskip">[17 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="244" data-right-line="241"><a>244</a>                                                                                  .                                                                                  <span><a>241</a></span></span>
<span class="nodiff" data-left-line="245" data-right-line="242"><a>245</a> if strcmp(base_dir(1), '~')                                                      . if strcmp(base_dir(1), '~')                                                      <span><a>242</a></span></span>
<span class="nodiff" data-left-line="246" data-right-line="243"><a>246</a>     base_dir = ['/Users/petercornillon' base_dir(2:end)];                        .     base_dir = ['/Users/petercornillon' base_dir(2:end)];                        <span><a>243</a></span></span>
<div id="diff4"><span class="diffLine" data-left-line="247" data-right-line="244"><a>247</a> <span class="diffnomatch">    new_mask_base_dir = [base_dir 'Final_Mask/'];                                x     new_mask_base_dir = [base_dir '<span style="background: #be96c6;">/</span>Final_Mask/'];                              </span> <span><a>244</a></span></span>
</div><span class="nodiff" data-left-line="248" data-right-line="245"><a>248</a> else                                                                             . else                                                                             <span><a>245</a></span></span>
<div id="diff5"><span class="diffLine" data-left-line="249" data-right-line="246"><a>249</a> <span class="diffnomatch"><span style="background: #be96c6;">% % %     </span>nn = strfind(base_dir, '/Fronts');                                     x <span style="background: #be96c6;">    </span>nn = strfind(base_dir, '/Fronts');                                          </span> <span><a>246</a></span></span>
<span class="diffLine" data-left-line="250" data-right-line="247"><a>250</a> <span class="diffnomatch"><span style="background: #be96c6;">% % %     </span>if isempty(nn); keyboard; end                                          x <span style="background: #be96c6;">    </span>if isempty(nn); keyboard; end                                               </span> <span><a>247</a></span></span>
<span class="diffLine" data-left-line="251" data-right-line="247"><a>251</a> <span class="diffnew left">% % %     new_mask_base_dir = [base_dir(1:nn) '/New_Masks/MODIS_Aqua/'];         &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="252" data-right-line="248"><a>252</a>                                                                                  .                                                                                  <span><a>248</a></span></span>
<div id="diff6"><span class="diffLine" data-left-line="253" data-right-line="249"><a>253</a> <span class="diffnomatch">    new_mask_base_dir = [base_dir '<span style="background: #be96c6;">Final_Mask</span>/'];                                x     new_mask_base_dir = [base_dir<span style="background: #be96c6;">(1:nn)</span> '/<span style="background: #be96c6;">New_Masks/MODIS_Aqua/</span>'];              </span> <span><a>249</a></span></span>
</div><span class="nodiff" data-left-line="254" data-right-line="250"><a>254</a> end                                                                              . end                                                                              <span><a>250</a></span></span>
<span class="nodiff" data-left-line="255" data-right-line="251"><a>255</a>                                                                                  .                                                                                  <span><a>251</a></span></span>
<span class="nodiff" data-left-line="256" data-right-line="252"><a>256</a> %% Read Lat,Lon and write the geolocation file.                                  . %% Read Lat,Lon and write the geolocation file.                                  <span><a>252</a></span></span>
<span class="nodiff" data-left-line="257" data-right-line="253"><a>257</a>                                                                                  .                                                                                  <span><a>253</a></span></span>
<div id="diff7"><span class="diffLine" data-left-line="258" data-right-line="254"><a>258</a> <span class="diffnomatch"><span style="background: #be96c6;">time_before_write_geo</span> = <span style="background: #be96c6;">toc</span>;                                                     x <span style="background: #be96c6;">[Status,</span> <span style="background: #be96c6;">latitude, longitude] </span>= <span style="background: #be96c6;">Write_Geo_Location_File( file_in, base_dir)</span>;    </span> <span><a>254</a></span></span>
<span class="diffLine" data-left-line="259" data-right-line="254"><a>259</a> <span class="diffnew left">if single_granule                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="260" data-right-line="254"><a>260</a> <span class="diffnew left">    [Status, latitude, longitude] = nscans( file_in, base_dir);                  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="261" data-right-line="254"><a>261</a> <span class="diffnew left">end                                                                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="262" data-right-line="254"><a>262</a> <span class="diffnew left">time_to_write_geo = toc - time_before_write_geo;                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="263" data-right-line="255"><a>263</a>                                                                                  .                                                                                  <span><a>255</a></span></span>
<span class="nodiff" data-left-line="264" data-right-line="256"><a>264</a> %% Load the SST, flags_sst and Quality fields for the test image                 . %% Load the SST, flags_sst and Quality fields for the test image                 <span><a>256</a></span></span>
<span class="nodiff" data-left-line="265" data-right-line="257"><a>265</a>                                                                                  .                                                                                  <span><a>257</a></span></span>
<span class="nodiff" data-left-line="266" data-right-line="258"><a>266</a> % Read SST and, if requested, plot.                                              . % Read SST and, if requested, plot.                                              <span><a>258</a></span></span>
<span class="nodiff" data-left-line="267" data-right-line="259"><a>267</a>                                                                                  .                                                                                  <span><a>259</a></span></span>
<div id="diff8"><span class="diffLine" data-left-line="268" data-right-line="259"><a>268</a> <span class="diffnew left">if single_granule                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="269" data-right-line="260"><a>269</a> <span class="diffnomatch"><span style="background: #be96c6;">    </span>SST_In = ncread( file_in, '/geophysical_data/sst', Start, Counts);           x SST_In = ncread( file_in, '/geophysical_data/sst', Start, Counts);              </span> <span><a>260</a></span></span>
<span class="diffLine" data-left-line="270" data-right-line="260"><a>270</a> <span class="diffnew left">    time_coverage_start = ncreadatt(file_in, '/', 'time_coverage_start');        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="271" data-right-line="260"><a>271</a> <span class="diffnew left">    GlobalAttributes = ncinfo(file_in);                                          &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="272" data-right-line="260"><a>272</a> <span class="diffnew left">else                                                                             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="273" data-right-line="260"><a>273</a> <span class="diffnew left">    load(file_in)                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="274" data-right-line="260"><a>274</a> <span class="diffnew left">end                                                                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="275" data-right-line="261"><a>275</a>                                                                                  .                                                                                  <span><a>261</a></span></span>
<span class="nodiff" data-left-line="276" data-right-line="262"><a>276</a> Final_Mask = zeros(size(SST_In));                                                . Final_Mask = zeros(size(SST_In));                                                <span><a>262</a></span></span>
<span class="nodiff" data-left-line="277" data-right-line="263"><a>277</a>                                                                                  .                                                                                  <span><a>263</a></span></span>
<div id="diff9"><span class="diffLine" data-left-line="278" data-right-line="263"><a>278</a> <span class="diffnew left">% Get the input quality. This is only used to see how good we did.               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="279" data-right-line="263"><a>279</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="280" data-right-line="263"><a>280</a> <span class="diffnew left">if single_granule                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="281" data-right-line="263"><a>281</a> <span class="diffnew left">    Qual_In = ncread( file_in, '/geophysical_data/qual_sst', Start, Counts);     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="282" data-right-line="263"><a>282</a> <span class="diffnew left">end                                                                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="283" data-right-line="263"><a>283</a> <span class="diffnew left">qual_2_or_worse = int8(zeros(size(Qual_In)));                                    &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="284" data-right-line="263"><a>284</a> <span class="diffnew left">qual_2_or_worse(Qual_In&gt;=2) = 1;                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="285" data-right-line="263"><a>285</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="286" data-right-line="264"><a>286</a> % Check to see if there is any good data in this granule; if not, write out an e . % Check to see if there is any good data in this granule; if not, write out an e <span><a>264</a></span></span>
<span class="nodiff" data-left-line="287" data-right-line="265"><a>287</a>                                                                                  .                                                                                  <span><a>265</a></span></span>
<span class="nodiff" data-left-line="288" data-right-line="266"><a>288</a> nn = find(SST_In &gt; -2);                                                          . nn = find(SST_In &gt; -2);                                                          <span><a>266</a></span></span>
<span class="nodiff" data-left-line="289" data-right-line="267"><a>289</a> if isempty(nn)                                                                   . if isempty(nn)                                                                   <span><a>267</a></span></span>
<div id="diff10"><span class="diffLine" data-left-line="290" data-right-line="268"><a>290</a> <span class="diffnomatch">    [Status] = Write_Enhanced_MODIS_SST_Mask( file_in, <span style="background: #be96c6;">new_mask_base_dir</span>, <span style="background: #be96c6;">int8(</span>F x     [Status] = Write_Enhanced_MODIS_SST_Mask( file_in, <span style="background: #be96c6;">'/Volumes/Aqua-1/New_Mask</span></span> <span><a>268</a></span></span>
<span class="diffLine" data-left-line="291" data-right-line="269"><a>291</a> <span class="diffnomatch"><span style="background: #be96c6;">        Old_Reference_Temperature_Flag</span>, <span style="background: #be96c6;">New_Reference_Temperature_Flag</span>, <span style="background: #be96c6;">qual_2_o</span> x <span style="background: #be96c6;">    [Status] = Write_Median_SST_File( base_dir</span>, <span style="background: #be96c6;">file_in</span>, <span style="background: #be96c6;">SST_In</span>, <span style="background: #be96c6;">Final_Mask</span>, <span style="background: #be96c6;">1</span>);</span> <span><a>269</a></span></span>
<span class="diffLine" data-left-line="292" data-right-line="269"><a>292</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="293" data-right-line="269"><a>293</a> <span class="diffnew left">    [Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, 2,  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="294" data-right-line="270"><a>294</a>     disp(['No good data for ' file_in '. Skipping to the next file.'])           .     disp(['No good data for ' file_in '. Skipping to the next file.'])           <span><a>270</a></span></span>
<span class="nodiff" data-left-line="295" data-right-line="271"><a>295</a>     return                                                                       .     return                                                                       <span><a>271</a></span></span>
<span class="nodiff" data-left-line="296" data-right-line="272"><a>296</a> end                                                                              . end                                                                              <span><a>272</a></span></span>
                                                                       <span class="diffskip">[4 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="301" data-right-line="277"><a>301</a>                                                                                  .                                                                                  <span><a>277</a></span></span>
<span class="nodiff" data-left-line="302" data-right-line="278"><a>302</a> % Initialize arrays to use to the size of the input field.                       . % Initialize arrays to use to the size of the input field.                       <span><a>278</a></span></span>
<span class="nodiff" data-left-line="303" data-right-line="279"><a>303</a>                                                                                  .                                                                                  <span><a>279</a></span></span>
<div id="diff11"><span class="diffLine" data-left-line="304" data-right-line="280"><a>304</a> <span class="diffnomatch"><span style="background: #be96c6;">% % % </span>Final_Mask = zeros(size(SST_In));                                          x Final_Mask = zeros(size(SST_In));                                               </span> <span><a>280</a></span></span>
</div><span class="nodiff" data-left-line="305" data-right-line="281"><a>305</a> Mask_Pixels_to_Keep = zeros(size(SST_In));                                       . Mask_Pixels_to_Keep = zeros(size(SST_In));                                       <span><a>281</a></span></span>
<span class="nodiff" data-left-line="306" data-right-line="282"><a>306</a> Mask_Pixels_to_Discard = zeros(size(SST_In));                                    . Mask_Pixels_to_Discard = zeros(size(SST_In));                                    <span><a>282</a></span></span>
<span class="nodiff" data-left-line="307" data-right-line="283"><a>307</a>                                                                                  .                                                                                  <span><a>283</a></span></span>
                                                                       <span class="diffskip">[4 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="312" data-right-line="288"><a>312</a>                                                                                  .                                                                                  <span><a>288</a></span></span>
<span class="nodiff" data-left-line="313" data-right-line="289"><a>313</a> % Read flags_sst.                                                                . % Read flags_sst.                                                                <span><a>289</a></span></span>
<span class="nodiff" data-left-line="314" data-right-line="290"><a>314</a>                                                                                  .                                                                                  <span><a>290</a></span></span>
<div id="diff12"><span class="diffLine" data-left-line="315" data-right-line="290"><a>315</a> <span class="diffnew left">if single_granule                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="316" data-right-line="291"><a>316</a> <span class="diffnomatch"><span style="background: #be96c6;">    </span>flags_sst = int16(ncread( file_in, '/geophysical_data/flags_sst', Start, Cou x flags_sst = int16(ncread( file_in, '/geophysical_data/flags_sst', Start, Counts)</span> <span><a>291</a></span></span>
<span class="diffLine" data-left-line="317" data-right-line="291"><a>317</a> <span class="diffnew left">end                                                                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="318" data-right-line="292"><a>318</a> Figno = Plot_Masks( Plot_flags_sst, Figno, inLiveScript, flags_sst, 'flags\_sst' . Figno = Plot_Masks( Plot_flags_sst, Figno, inLiveScript, flags_sst, 'flags\_sst' <span><a>292</a></span></span>
<span class="nodiff" data-left-line="319" data-right-line="293"><a>319</a>                                                                                  .                                                                                  <span><a>293</a></span></span>
<span class="nodiff" data-left-line="320" data-right-line="294"><a>320</a> Time_to_Setup_and_Read = toc(Start_Time);                                        . Time_to_Setup_and_Read = toc(Start_Time);                                        <span><a>294</a></span></span>
                                                                      <span class="diffskip">[56 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="377" data-right-line="351"><a>377</a> %     'BT4REFDIFF-data' 'REDNONUNIF-NO data' 'HISENZ-data'    'VHISENZ-data'   ' . %     'BT4REFDIFF-data' 'REDNONUNIF-NO data' 'HISENZ-data'    'VHISENZ-data'   ' <span><a>351</a></span></span>
<span class="nodiff" data-left-line="378" data-right-line="352"><a>378</a> %     'CLOUD'-data};                                                             . %     'CLOUD'-data};                                                             <span><a>352</a></span></span>
<span class="nodiff" data-left-line="379" data-right-line="353"><a>379</a>                                                                                  .                                                                                  <span><a>353</a></span></span>
<div id="diff13"><span class="diffLine" data-left-line="380" data-right-line="354"><a>380</a> <span class="diffnomatch">% <span style="background: #be96c6;">Do</span> <span style="background: #be96c6;">two</span> <span style="background: #be96c6;">passes.</span> <span style="background: #be96c6;">The</span> <span style="background: #be96c6;">first one will generate the basic masks </span>and <span style="background: #be96c6;">from that</span>       x % <span style="background: #be96c6;">Now</span> <span style="background: #be96c6;">go</span> <span style="background: #be96c6;">through</span> <span style="background: #be96c6;">dilating</span> and <span style="background: #be96c6;">summing.</span>                                          </span> <span><a>354</a></span></span>
<span class="diffLine" data-left-line="381" data-right-line="354"><a>381</a> <span class="diffnew left">% a mask for bit 6, the reference bit. The second pass will dilate these         &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="382" data-right-line="354"><a>382</a> <span class="diffnew left">% masks as needed.                                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="383" data-right-line="355"><a>383</a>                                                                                  .                                                                                  <span><a>355</a></span></span>
<div id="diff14"><span class="diffLine" data-left-line="384" data-right-line="355"><a>384</a> <span class="diffnew left">mask = int32(zeros(16, sizSST_In(1), sizSST_In(2)));                             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="385" data-right-line="355"><a>385</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="386" data-right-line="355"><a>386</a> <span class="diffnew left">% % % for iBit=[1:5 7:16]                                                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="387" data-right-line="356"><a>387</a> <span class="diffnomatch">for iBit=<span style="background: #be96c6;">[</span>1:16<span style="background: #be96c6;">] </span>                                                                 x for iBit=1:16                                                                   </span> <span><a>356</a></span></span>
<span class="diffLine" data-left-line="388" data-right-line="357"><a>388</a> <span class="diffnomatch"><span style="background: #be96c6;">        </span>                                                                         x <span style="background: #be96c6;">    </span>                                                                            </span> <span><a>357</a></span></span>
<span class="diffLine" data-left-line="388" data-right-line="358"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;     Temp_Flag = int32(zeros(sizSST_In));                                        </span> <span><a>358</a></span></span>
<span class="diffLine" data-left-line="388" data-right-line="359"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;                                                                                 </span> <span><a>359</a></span></span>
</div><span class="nodiff" data-left-line="389" data-right-line="360"><a>389</a>     if iBit == 16                                                                .     if iBit == 16                                                                <span><a>360</a></span></span>
<span class="nodiff" data-left-line="390" data-right-line="361"><a>390</a>                                                                                  .                                                                                  <span><a>361</a></span></span>
<span class="nodiff" data-left-line="391" data-right-line="362"><a>391</a>         % Bit 16 has to be handled differently. The netCDF file sees flags_sst   .         % Bit 16 has to be handled differently. The netCDF file sees flags_sst   <span><a>362</a></span></span>
                                                                       <span class="diffskip">[2 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="394" data-right-line="365"><a>394</a>         % unsigned but it doesn't like that. As a result any pixel with a        .         % unsigned but it doesn't like that. As a result any pixel with a        <span><a>365</a></span></span>
<span class="nodiff" data-left-line="395" data-right-line="366"><a>395</a>         % negative value of flags_sst has bit 16, the sign bit, set, so          .         % negative value of flags_sst has bit 16, the sign bit, set, so          <span><a>366</a></span></span>
<span class="nodiff" data-left-line="396" data-right-line="367"><a>396</a>                                                                                  .                                                                                  <span><a>367</a></span></span>
<div id="diff15"><span class="diffLine" data-left-line="397" data-right-line="368"><a>397</a> <span class="diffnomatch"><span style="background: #be96c6;">% % %         eval</span>(<span style="background: #be96c6;">['mask_' num2str(iBit</span>) <span style="background: #be96c6;">' </span>= <span style="background: #be96c6;">int32(zeros(sizSST_In))</span>;<span style="background: #be96c6;">'])</span>        x <span style="background: #be96c6;">        Temp_Flag</span>(<span style="background: #be96c6;">flags_sst&lt;0</span>) = <span style="background: #be96c6;">2^15</span>;                                          </span> <span><a>368</a></span></span>
<span class="diffLine" data-left-line="398" data-right-line="369"><a>398</a> <span class="diffnomatch"><span style="background: #be96c6;">%</span> <span style="background: #be96c6;">% %         eval(['mask_' num2str(</span>iBit<span style="background: #be96c6;">)</span> <span style="background: #be96c6;">'(flags_sst&lt;0) </span>= <span style="background: #be96c6;">2^15;'])</span>              x <span style="background: #be96c6;">    elseif</span> iBit =<span style="background: #be96c6;">=</span> <span style="background: #be96c6;">6</span>                                                            </span> <span><a>369</a></span></span>
<span class="diffLine" data-left-line="399" data-right-line="370"><a>399</a> <span class="diffnomatch"><span style="background: #be96c6;">       temp</span> <span style="background: #be96c6;">=</span> <span style="background: #be96c6;">int32(zeros(sizSST_In));</span>                                           x <span style="background: #be96c6;">        %</span> <span style="background: #be96c6;">read</span> <span style="background: #be96c6;">in the reference field and generate out own reference</span>            </span> <span><a>370</a></span></span>
<span class="diffLine" data-left-line="400" data-right-line="371"><a>400</a> <span class="diffnomatch">% <span style="background: #be96c6;">% %        temp(flags_sst&lt;0) = 2^15;</span>                                           x <span style="background: #be96c6;">        </span>% <span style="background: #be96c6;">mask.</span>                                                                 </span> <span><a>371</a></span></span>
<span class="diffLine" data-left-line="401" data-right-line="371"><a>401</a> <span class="diffnew left">       temp(flags_sst&lt;0) = 1;                                                    &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="402" data-right-line="371"><a>402</a> <span class="diffnew left">       mask(16,:,:) = temp;                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="403" data-right-line="371"><a>403</a> <span class="diffnew left">    else                                                                         &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="404" data-right-line="372"><a>404</a>                                                                                  .                                                                                  <span><a>372</a></span></span>
<div id="diff16"><span class="diffLine" data-left-line="405" data-right-line="372"><a>405</a> <span class="diffnew left">        % All other bits actually get the value of the bit at each pixel locatio &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="406" data-right-line="372"><a>406</a> <span class="diffnew left">        % does it in one swell foop.                                             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="407" data-right-line="372"><a>407</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="408" data-right-line="372"><a>408</a> <span class="diffnew left">% % %         eval(['mask_' num2str(iBit) ' = int32(bitand(flags_sst, ' num2str( &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="409" data-right-line="372"><a>409</a> <span class="diffnew left">% % %          mask(iBit,:,:) = int32(bitand(flags_sst, 2^(iBit-1), 'int16'));   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="410" data-right-line="372"><a>410</a> <span class="diffnew left">         temp = int32(bitand(flags_sst, 2^(iBit-1), 'int16'));                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="411" data-right-line="372"><a>411</a> <span class="diffnew left">         nn = find(temp&gt;0);                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="412" data-right-line="372"><a>412</a> <span class="diffnew left">         temp(nn) = 1;                                                           &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="413" data-right-line="372"><a>413</a> <span class="diffnew left">         mask(iBit,:,:) = temp;                                                  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="414" data-right-line="372"><a>414</a> <span class="diffnew left">    end                                                                          &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="415" data-right-line="372"><a>415</a> <span class="diffnew left">end                                                                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="416" data-right-line="372"><a>416</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="417" data-right-line="372"><a>417</a> <span class="diffnew left">% Now go through dilating and summing.                                           &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="418" data-right-line="372"><a>418</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="419" data-right-line="372"><a>419</a> <span class="diffnew left">for iBit=1:16                                                                    &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="420" data-right-line="372"><a>420</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="421" data-right-line="372"><a>421</a> <span class="diffnew left">% % %     eval(['Temp_Flag = mask_' num2str(iBit) ';'])                          &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="422" data-right-line="372"><a>422</a> <span class="diffnew left">    Temp_Flag = squeeze(mask( iBit, :, :));                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="423" data-right-line="372"><a>423</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="424" data-right-line="372"><a>424</a> <span class="diffnew left">    if (iBit == 6)                                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="425" data-right-line="372"><a>425</a> <span class="diffnew left">        Old_Reference_Temperature_Flag = int8(Temp_Flag);                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="426" data-right-line="372"><a>426</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="427" data-right-line="372"><a>427</a> <span class="diffnew left">        % Set Temp_Flag to zeros; will add 1s using the reference threshold      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="428" data-right-line="372"><a>428</a> <span class="diffnew left">        % fields.                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="429" data-right-line="372"><a>429</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="430" data-right-line="372"><a>430</a> <span class="diffnew left">        Temp_Flag = zeros(sizSST_In);                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="431" data-right-line="372"><a>431</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="432" data-right-line="372"><a>432</a> <span class="diffnew left">        % Get the difference between the reference field and this field.         &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="433" data-right-line="372"><a>433</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="434" data-right-line="372"><a>434</a> <span class="diffnew left">        if single_granule                                                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="435" data-right-line="373"><a>435</a> <span class="diffnomatch"><span style="background: #be96c6;">            </span>sstref = ncread(file_in,'/geophysical_data/sstref');                 x <span style="background: #be96c6;">        </span>sstref = ncread(file_in,'/geophysical_data/sstref');                    </span> <span><a>373</a></span></span>
<span class="diffLine" data-left-line="436" data-right-line="373"><a>436</a> <span class="diffnew left">        end                                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="437" data-right-line="374"><a>437</a>         sstdiff = sstref - SST_In;                                               .         sstdiff = sstref - SST_In;                                               <span><a>374</a></span></span>
<div id="diff17"><span class="diffLine" data-left-line="438" data-right-line="375"><a>438</a> <span class="diffnomatch">                                                                                 x <span style="background: #be96c6;">                </span>                                                                </span> <span><a>375</a></span></span>
<span class="diffLine" data-left-line="439" data-right-line="376"><a>439</a> <span class="diffnomatch">        <span style="background: #be96c6;">lon_range_index_vec = floor</span>(<span style="background: #be96c6;">(180 + longitude(:</span>)<span style="background: #be96c6;">)</span> <span style="background: #be96c6;">/</span> <span style="background: #be96c6;">sst_range_grid_size) </span> x         <span style="background: #be96c6;">Temp_Flag</span>(<span style="background: #be96c6;">sstdiff&gt;Thresholds.Reference_SST_Diff</span>) <span style="background: #be96c6;">=</span> 1;                   </span> <span><a>376</a></span></span>
<span class="diffLine" data-left-line="440" data-right-line="377"><a>440</a> <span class="diffnomatch"><span style="background: #be96c6;">        lat_range_index_vec = floor((90 + latitude(:)) / sst_range_grid_size) + </span> x <span style="background: #be96c6;">    else</span>                                                                        </span> <span><a>377</a></span></span>
</div><span class="nodiff" data-left-line="441" data-right-line="378"><a>441</a>                                                                                  .                                                                                  <span><a>378</a></span></span>
<div id="diff18"><span class="diffLine" data-left-line="442" data-right-line="379"><a>442</a> <span class="diffnomatch">        <span style="background: #be96c6;">lon_range_index_vec(lon_range_index_vec&gt;180)</span> <span style="background: #be96c6;">=</span> <span style="background: #be96c6;">180;</span>                      x         <span style="background: #be96c6;">%</span> <span style="background: #be96c6;">All</span> <span style="background: #be96c6;">other bits actually get the value of the bit at each pixel locatio</span></span> <span><a>379</a></span></span>
<span class="diffLine" data-left-line="443" data-right-line="380"><a>443</a> <span class="diffnomatch">        <span style="background: #be96c6;">lon_range_index_vec(lon_range_index_vec&lt;-180)</span> <span style="background: #be96c6;">=</span> <span style="background: #be96c6;">-180;</span>                    x         <span style="background: #be96c6;">%</span> <span style="background: #be96c6;">does</span> <span style="background: #be96c6;">it in one swell foop.</span>                                            </span> <span><a>380</a></span></span>
<span class="diffLine" data-left-line="444" data-right-line="380"><a>444</a> <span class="diffnew left">        lat_range_index_vec(lat_range_index_vec&gt;90) = 90;                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="445" data-right-line="380"><a>445</a> <span class="diffnew left">        lat_range_index_vec(lat_range_index_vec&lt;-90) = -90;                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="446" data-right-line="381"><a>446</a>                                                                                  .                                                                                  <span><a>381</a></span></span>
<div id="diff19"><span class="diffLine" data-left-line="447" data-right-line="382"><a>447</a> <span class="diffnomatch">                                                                                 x         <span style="background: #be96c6;">eval(['Temp_Flag = int32(bitand(flags_sst, ' num2str(2^(iBit-1)) ', ''in</span></span> <span><a>382</a></span></span>
<span class="diffLine" data-left-line="448" data-right-line="382"><a>448</a> <span class="diffnew left">%         % If you want to plot ranges_for_this_month                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="449" data-right-line="382"><a>449</a> <span class="diffnew left">%                                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="450" data-right-line="382"><a>450</a> <span class="diffnew left">%         Lon_values = [-180+sst_range_grid_size/2:sst_range_grid_size:180-sst_r &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="451" data-right-line="382"><a>451</a> <span class="diffnew left">%         Lat_values = [-90+sst_range_grid_size/2:sst_range_grid_si ze:90-sst_ra &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="452" data-right-line="382"><a>452</a> <span class="diffnew left">%         figure                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="453" data-right-line="382"><a>453</a> <span class="diffnew left">%         imagesc(Lon_values, Lat_values, ranges_for_this_month)                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="454" data-right-line="382"><a>454</a> <span class="diffnew left">%         set(gca,'fontsize',24,ydir='normal')                                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="455" data-right-line="382"><a>455</a> <span class="diffnew left">%         load coastlines.mat                                                    &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="456" data-right-line="382"><a>456</a> <span class="diffnew left">%         hold on;plot(coastlon,coastlat,'w',linewidth=2)                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="457" data-right-line="382"><a>457</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="458" data-right-line="382"><a>458</a> <span class="diffnew left">        ranges_for_this_month = squeeze(sst_range(:,:,Month));                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="459" data-right-line="382"><a>459</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="460" data-right-line="382"><a>460</a> <span class="diffnew left">% % %         % Find bits not flagged by one of the other tests being used. Will &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="461" data-right-line="382"><a>461</a> <span class="diffnew left">% % %         % test these for the new temperature difference threshold.         &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="462" data-right-line="382"><a>462</a> <span class="diffnew left">% % %                                                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="463" data-right-line="382"><a>463</a> <span class="diffnew left">% % %         temp_for_6 = int32(zeros(sizSST_In));                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="464" data-right-line="382"><a>464</a> <span class="diffnew left">% % %         for jBit=[1:5 7:8 11:12 14:16]                                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="465" data-right-line="382"><a>465</a> <span class="diffnew left">% % %             temp_for_6 = temp_for_6 + squeeze(mask(jBit,:,:));             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="466" data-right-line="383"><a>466</a> <span class="diffnomatch"><span style="background: #be96c6;">% % %         </span>end                                                                x <span style="background: #be96c6;">    </span>end                                                                         </span> <span><a>383</a></span></span>
<span class="diffLine" data-left-line="467" data-right-line="383"><a>467</a> <span class="diffnew left">% % %         nn = find(temp_for_6 &gt; 0);                                         &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="468" data-right-line="383"><a>468</a> <span class="diffnew left">% % %                                                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="469" data-right-line="383"><a>469</a> <span class="diffnew left">% % %         temp_for_6 = int32(zeros(sizSST_In));                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="470" data-right-line="383"><a>470</a> <span class="diffnew left">% % %         for iCheck=1:length(nn)                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="471" data-right-line="383"><a>471</a> <span class="diffnew left">% % %             jCheck = nn(iCheck);                                           &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="472" data-right-line="383"><a>472</a> <span class="diffnew left">% % %             temp_for_6(jCheck) = squeeze(ranges_for_this_month(lon_range_i &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="473" data-right-line="383"><a>473</a> <span class="diffnew left">% % %         end                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="474" data-right-line="384"><a>474</a> <span class="diffnomatch"><span style="background: #be96c6;">        </span>                                                                         x <span style="background: #be96c6;">    </span>                                                                            </span> <span><a>384</a></span></span>
<span class="diffLine" data-left-line="475" data-right-line="384"><a>475</a> <span class="diffnew left">        temp_for_6 = zeros(sizSST_In);                                           &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="476" data-right-line="384"><a>476</a> <span class="diffnew left">        for iCheck=1:numel(temp_for_6)                                           &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="477" data-right-line="384"><a>477</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="478" data-right-line="384"><a>478</a> <span class="diffnew left">            % The following check because at least one input image had nans      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="479" data-right-line="384"><a>479</a> <span class="diffnew left">            % for the lat and lon fields at one end of the image.                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="480" data-right-line="384"><a>480</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="481" data-right-line="384"><a>481</a> <span class="diffnew left">            if isnan(lat_range_index_vec(iCheck)) | isnan(lon_range_index_vec(iC &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="482" data-right-line="384"><a>482</a> <span class="diffnew left">                temp_for_6(iCheck) = 10000;                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="483" data-right-line="384"><a>483</a> <span class="diffnew left">            else                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="484" data-right-line="384"><a>484</a> <span class="diffnew left">                temp_for_6(iCheck) = squeeze(ranges_for_this_month(lat_range_ind &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="485" data-right-line="384"><a>485</a> <span class="diffnew left">            end                                                                  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="486" data-right-line="384"><a>486</a> <span class="diffnew left">        end                                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="487" data-right-line="384"><a>487</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="488" data-right-line="384"><a>488</a> <span class="diffnew left">        temp_for_6 = temp_for_6 * Thresholds.Reference_SST_Diff_Factor;          &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="489" data-right-line="384"><a>489</a> <span class="diffnew left">        Temp_Flag(sstdiff &gt; temp_for_6) = 1;                                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="490" data-right-line="384"><a>490</a> <span class="diffnew left">% % %         Temp_Flag(sstdiff &lt;= temp_for_6) = 0;                              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="491" data-right-line="384"><a>491</a> <span class="diffnew left">        New_Reference_Temperature_Flag = int8(Temp_Flag);                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="492" data-right-line="384"><a>492</a> <span class="diffnew left">    end                                                                          &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="493" data-right-line="384"><a>493</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="494" data-right-line="385"><a>494</a>     % Add this bit plane to the appropriate mask.                                .     % Add this bit plane to the appropriate mask.                                <span><a>385</a></span></span>
<span class="nodiff" data-left-line="495" data-right-line="386"><a>495</a>                                                                                  .                                                                                  <span><a>386</a></span></span>
<span class="nodiff" data-left-line="496" data-right-line="387"><a>496</a>     switch iBit                                                                  .     switch iBit                                                                  <span><a>387</a></span></span>
                                                                      <span class="diffskip">[238 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="735" data-right-line="626"><a>735</a> kk = strfind(file_in, '/');                                                      . kk = strfind(file_in, '/');                                                      <span><a>626</a></span></span>
<span class="nodiff" data-left-line="736" data-right-line="627"><a>736</a> if isempty(nnReduced) == 1                                                       . if isempty(nnReduced) == 1                                                       <span><a>627</a></span></span>
<span class="nodiff" data-left-line="737" data-right-line="628"><a>737</a>     disp(['No candidate objects found in: ' file_in(kk(end)+1:end) '. Skipping t .     disp(['No candidate objects found in: ' file_in(kk(end)+1:end) '. Skipping t <span><a>628</a></span></span>
<div id="diff20"><span class="diffLine" data-left-line="738" data-right-line="629"><a>738</a> <span class="diffnomatch">    [Status] = Write_Enhanced_MODIS_SST_Mask( file_in, <span style="background: #be96c6;">new_mask_base_dir</span>, <span style="background: #be96c6;">int8(</span>F x     [Status] = Write_Enhanced_MODIS_SST_Mask( file_in, <span style="background: #be96c6;">'/Volumes/Aqua-1/New_Mask</span></span> <span><a>629</a></span></span>
<span class="diffLine" data-left-line="739" data-right-line="630"><a>739</a> <span class="diffnomatch"><span style="background: #be96c6;">        Old_Reference_Temperature_Flag</span>, <span style="background: #be96c6;">New_Reference_Temperature_Flag</span>, <span style="background: #be96c6;">qual_2_o</span> x <span style="background: #be96c6;">    [Status] = Write_Median_SST_File( base_dir</span>, <span style="background: #be96c6;">file_in</span>, <span style="background: #be96c6;">SST_In</span>, <span style="background: #be96c6;">Final_Mask</span>, <span style="background: #be96c6;">1</span>);</span> <span><a>630</a></span></span>
<span class="diffLine" data-left-line="740" data-right-line="630"><a>740</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="741" data-right-line="630"><a>741</a> <span class="diffnew left">    [Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, 2,  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="742" data-right-line="631"><a>742</a>     return                                                                       .     return                                                                       <span><a>631</a></span></span>
<span class="nodiff" data-left-line="743" data-right-line="632"><a>743</a> else                                                                             . else                                                                             <span><a>632</a></span></span>
<span class="nodiff" data-left-line="744" data-right-line="633"><a>744</a>     disp(['Out of a possible ' num2str(length_FracArea) ' objects, ' num2str(len .     disp(['Out of a possible ' num2str(length_FracArea) ' objects, ' num2str(len <span><a>633</a></span></span>
                                                                      <span class="diffskip">[100 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="845" data-right-line="734"><a>845</a> Time_for_Image_Wide_Tests = toc;                                                 . Time_for_Image_Wide_Tests = toc;                                                 <span><a>734</a></span></span>
<span class="nodiff" data-left-line="846" data-right-line="735"><a>846</a> tic                                                                              . tic                                                                              <span><a>735</a></span></span>
<span class="nodiff" data-left-line="847" data-right-line="736"><a>847</a>                                                                                  .                                                                                  <span><a>736</a></span></span>
<div id="diff21"><span class="diffLine" data-left-line="848" data-right-line="736"><a>848</a> <span class="diffnew left">% % % if Num_Objects &gt; 1300                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="849" data-right-line="736"><a>849</a> <span class="diffnew left">% % %     profile on                                                             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="850" data-right-line="736"><a>850</a> <span class="diffnew left">% % % end                                                                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="851" data-right-line="736"><a>851</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="852" data-right-line="737"><a>852</a> for iObject=objects_to_inspect                                                   . for iObject=objects_to_inspect                                                   <span><a>737</a></span></span>
<div id="diff22"><span class="diffLine" data-left-line="853" data-right-line="738"><a>853</a> <span class="diffnomatch"><span style="background: #be96c6;">        </span>                                                                         x <span style="background: #be96c6;">    </span>                                                                            </span> <span><a>738</a></span></span>
</div><span class="nodiff" data-left-line="854" data-right-line="739"><a>854</a>     %     disp(['Object # ' num2str(iObject) '. Previous object took ' num2str(t .     %     disp(['Object # ' num2str(iObject) '. Previous object took ' num2str(t <span><a>739</a></span></span>
<span class="nodiff" data-left-line="855" data-right-line="740"><a>855</a>                                                                                  .                                                                                  <span><a>740</a></span></span>
<span class="nodiff" data-left-line="856" data-right-line="741"><a>856</a>     if mod(iObject,100) == 0 &amp; Debug == 1                                        .     if mod(iObject,100) == 0 &amp; Debug == 1                                        <span><a>741</a></span></span>
                                                                      <span class="diffskip">[117 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="974" data-right-line="859"><a>974</a>                                                                                  .                                                                                  <span><a>859</a></span></span>
<span class="nodiff" data-left-line="975" data-right-line="860"><a>975</a> Time_to_Process_Objects = toc;                                                   . Time_to_Process_Objects = toc;                                                   <span><a>860</a></span></span>
<span class="nodiff" data-left-line="976" data-right-line="861"><a>976</a>                                                                                  .                                                                                  <span><a>861</a></span></span>
<div id="diff23"><span class="diffLine" data-left-line="977" data-right-line="861"><a>977</a> <span class="diffnew left">% % % if Num_Objects &gt; 1300                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="978" data-right-line="861"><a>978</a> <span class="diffnew left">% % %     profile off                                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="979" data-right-line="861"><a>979</a> <span class="diffnew left">% % %     profsave(profile('info'),'myprofile_results_batch_timer')              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="980" data-right-line="861"><a>980</a> <span class="diffnew left">% % % %     keyboard                                                             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="981" data-right-line="861"><a>981</a> <span class="diffnew left">% % %     exit                                                                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="982" data-right-line="861"><a>982</a> <span class="diffnew left">% % % end                                                                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="983" data-right-line="861"><a>983</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="984" data-right-line="862"><a>984</a> Mask_Pixels_to_Discard(Mask_Pixels_to_Discard&gt;0) = 1;                            . Mask_Pixels_to_Discard(Mask_Pixels_to_Discard&gt;0) = 1;                            <span><a>862</a></span></span>
<span class="nodiff" data-left-line="985" data-right-line="863"><a>985</a> Mask_Pixels_to_Keep(Mask_Pixels_to_Keep&gt;0) = 1;                                  . Mask_Pixels_to_Keep(Mask_Pixels_to_Keep&gt;0) = 1;                                  <span><a>863</a></span></span>
<span class="nodiff" data-left-line="986" data-right-line="864"><a>986</a>                                                                                  .                                                                                  <span><a>864</a></span></span>
<span class="nodiff" data-left-line="987" data-right-line="865"><a>987</a> Final_Mask = Mask_Bits_1_3_4_5_6p_9_10_11_16;                                    . Final_Mask = Mask_Bits_1_3_4_5_6p_9_10_11_16;                                    <span><a>865</a></span></span>
<span class="nodiff" data-left-line="988" data-right-line="866"><a>988</a> Final_Mask(Final_Mask&gt;0) = 1;                                                    . Final_Mask(Final_Mask&gt;0) = 1;                                                    <span><a>866</a></span></span>
<div id="diff24"><span class="diffLine" data-left-line="989" data-right-line="866"><a>989</a> <span class="diffnew left">Final_Mask(Final_Mask&lt;0) = 0;                                                    &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="990" data-right-line="867"><a>990</a>                                                                                  .                                                                                  <span><a>867</a></span></span>
<span class="nodiff" data-left-line="991" data-right-line="868"><a>991</a> Final_Mask = Final_Mask - Mask_Pixels_to_Discard;                                . Final_Mask = Final_Mask - Mask_Pixels_to_Discard;                                <span><a>868</a></span></span>
<span class="nodiff" data-left-line="992" data-right-line="869"><a>992</a> Final_Mask(Final_Mask&lt;0) = 0;                                                    . Final_Mask(Final_Mask&lt;0) = 0;                                                    <span><a>869</a></span></span>
                                                                       <span class="diffskip">[6 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="999" data-right-line="876"><a>999</a>                                                                                  .                                                                                  <span><a>876</a></span></span>
<span class="nodiff" data-left-line="1000" data-right-line="877"><a>1000</a> % Write the output netCDF files.                                                 . % Write the output netCDF files.                                                 <span><a>877</a></span></span>
<span class="nodiff" data-left-line="1001" data-right-line="878"><a>1001</a>                                                                                  .                                                                                  <span><a>878</a></span></span>
<div id="diff25"><span class="diffLine" data-left-line="1002" data-right-line="879"><a>1002</a> <span class="diffnomatch">[Status] = Write_Enhanced_MODIS_SST_Mask( file_in, <span style="background: #be96c6;">new_mask_base_dir</span>, <span style="background: #be96c6;">int8(</span>Final x <span style="background: #be96c6;">% % % </span>[Status] = Write_Enhanced_MODIS_SST_Mask( file_in, <span style="background: #be96c6;">'/Volumes/Aqua-1/New_Ma</span></span> <span><a>879</a></span></span>
<span class="diffLine" data-left-line="1003" data-right-line="880"><a>1003</a> <span class="diffnomatch"><span style="background: #be96c6;">    Old_Reference_Temperature_Flag,</span> <span style="background: #be96c6;">New_Reference_Temperature_Flag,</span> <span style="background: #be96c6;">qual_2_or_wo</span> x <span style="background: #be96c6;">[Status]</span> <span style="background: #be96c6;">=</span> <span style="background: #be96c6;">Write_Enhanced_MODIS_SST_Mask( file_in</span>, <span style="background: #be96c6;">new_mask_base_dir</span>, <span style="background: #be96c6;">Final_Mask</span></span> <span><a>880</a></span></span>
<span class="diffLine" data-left-line="1004" data-right-line="881"><a>1004</a> <span class="diffnomatch"><span style="background: #be96c6;">[Status]</span> <span style="background: #be96c6;">=</span> <span style="background: #be96c6;">Write_Median_SST_File(</span> <span style="background: #be96c6;">base_dir</span>, <span style="background: #be96c6;">file_in</span>, <span style="background: #be96c6;">SST_In,</span> <span style="background: #be96c6;">Final_Mask,</span> <span style="background: #be96c6;">2,</span> <span style="background: #be96c6;">time</span> x <span style="background: #be96c6;">%</span> <span style="background: #be96c6;">%</span> <span style="background: #be96c6;">%</span> <span style="background: #be96c6;">[Status</span>, <span style="background: #be96c6;">latitude</span>, <span style="background: #be96c6;">longitude]</span> <span style="background: #be96c6;">=</span> <span style="background: #be96c6;">Write_Geo_Location_File(</span> <span style="background: #be96c6;">file_in</span>, <span style="background: #be96c6;">base_dir</span></span> <span><a>881</a></span></span>
<span class="diffLine" data-left-line="1004" data-right-line="882"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt; [Status] = Write_Median_SST_File( base_dir, file_in, SST_In, Final_Mask, 1);    </span> <span><a>882</a></span></span>
</div><span class="nodiff" data-left-line="1005" data-right-line="883"><a>1005</a>                                                                                  .                                                                                  <span><a>883</a></span></span>
<span class="nodiff" data-left-line="1006" data-right-line="884"><a>1006</a> % How long to process this file.                                                 . % How long to process this file.                                                 <span><a>884</a></span></span>
<span class="nodiff" data-left-line="1007" data-right-line="885"><a>1007</a> Total_Elapsed_Time = toc(Start_Time);                                            . Total_Elapsed_Time = toc(Start_Time);                                            <span><a>885</a></span></span>
<span class="nodiff" data-left-line="1008" data-right-line="886"><a>1008</a>                                                                                  .                                                                                  <span><a>886</a></span></span>
<span class="nodiff" data-left-line="1009" data-right-line="887"><a>1009</a> disp(['Time to process this granule: ' num2str(Total_Elapsed_Time,3) 's '])      . disp(['Time to process this granule: ' num2str(Total_Elapsed_Time,3) 's '])      <span><a>887</a></span></span>
<span class="nodiff" data-left-line="1010" data-right-line="888"><a>1010</a>                                                                                  .                                                                                  <span><a>888</a></span></span>
<div id="diff26"><span class="diffLine" data-left-line="1011" data-right-line="889"><a>1011</a> <span class="diffnomatch">%<span style="background: #be96c6;"> </span>disp([ strrep('Total_Elapsed_Time','_',' ') ': ' num2str(Total_Elapsed_Time,3) x %<span style="background: #be96c6;">     </span>disp([ strrep('Total_Elapsed_Time','_',' ') ': ' num2str(Total_Elapsed_Tim</span> <span><a>889</a></span></span>
<span class="diffLine" data-left-line="1012" data-right-line="889"><a>1012</a> <span class="diffnew left">%     strrep('time_before_write_geo','_',' ') ': ' num2str(time_before_write_geo &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="1013" data-right-line="889"><a>1013</a> <span class="diffnew left">%     strrep('time_to_write_geo','_',' ') ': ' num2str(time_to_write_geo,3) 's ' &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="1014" data-right-line="890"><a>1014</a> <span class="diffnomatch">%<span style="background: #be96c6;">     </span>strrep('Time_to_Setup_and_Read','_',' ') ': ' num2str(Time_to_Setup_and_Re x %<span style="background: #be96c6;">         </span>strrep('Time_to_Setup_and_Read','_',' ') ': ' num2str(Time_to_Setup_an</span> <span><a>890</a></span></span>
<span class="diffLine" data-left-line="1015" data-right-line="890"><a>1015</a> <span class="diffnew left">% disp([                                                                         &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="1016" data-right-line="891"><a>1016</a> <span class="diffnomatch">%<span style="background: #be96c6;">     '   ' </span>strrep('Time_to_Build_Basic_Masks','_',' ') ': ' num2str(Time_to_Bui x %<span style="background: #be96c6;">         </span>strrep('Time_to_Build_Basic_Masks','_',' ') ': ' num2str(Time_to_Build</span> <span><a>891</a></span></span>
<span class="diffLine" data-left-line="1017" data-right-line="892"><a>1017</a> <span class="diffnomatch">%<span style="background: #be96c6;">     </span>strrep('Time_for_Image_Wide_Tests','_',' ') ': ' num2str(Time_for_Image_Wi x %<span style="background: #be96c6;">         </span>strrep('Time_for_Image_Wide_Tests','_',' ') ': ' num2str(Time_for_Imag</span> <span><a>892</a></span></span>
<span class="diffLine" data-left-line="1018" data-right-line="893"><a>1018</a> <span class="diffnomatch">%<span style="background: #be96c6;">     </span>strrep('Time_to_Process_Objects','_',' ') ': ' num2str(Time_to_Process_Obj x %<span style="background: #be96c6;">         </span>strrep('Time_to_Process_Objects','_',' ') ': ' num2str(Time_to_Process</span> <span><a>893</a></span></span>
<span class="diffLine" data-left-line="1018" data-right-line="894"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt; %     disp([' '])                                                               </span> <span><a>894</a></span></span>
<span class="diffLine" data-left-line="1018" data-right-line="895"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt; %     disp([' '])                                                               </span> <span><a>895</a></span></span>
</div><span class="nodiff" data-left-line="1019" data-right-line="896"><a>1019</a>                                                                                  .                                                                                  <span><a>896</a></span></span>
<div id="diff27"><span class="diffLine" data-left-line="1019" data-right-line="897"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;                                                                                 </span> <span><a>897</a></span></span>
</div></pre></div></div><div id="bottom"><p>Number of matching lines: 851</p><p>Number of unmatched lines in left file: 168</p>
<p>Number of unmatched lines in right file: 46</p>
</div></body></head>